{"version":3,"sources":["webpack:///./src/app/layout/myaccount/location-tracking/location-tracking.module.ts","webpack:///./src/app/layout/myaccount/location-tracking/location-tracking.page.html","webpack:///./src/app/layout/myaccount/location-tracking/location-tracking.page.scss","webpack:///./src/app/layout/myaccount/location-tracking/location-tracking.page.ts"],"names":[],"mappings":"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","file":"location-tracking-location-tracking-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationTrackingPage } from './location-tracking.page';\nimport { ComponentsModule } from \"../../../core/components/components.module\";\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationTrackingPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    FontAwesomeModule\n  ],\n  declarations: [LocationTrackingPage]\n})\nexport class LocationTrackingPageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"header-menu\\\">\\n    <ion-buttons slot=\\\"start\\\" *ngIf=\\\"back_button_visible\\\" class=\\\"border_button\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title slot=\\\"start\\\" style=\\\"padding: 0px;\\\">\\n        Tracking\\n    </ion-title>\\n    <ion-card class=\\\"qr_card\\\" slot=\\\"end\\\" type=\\\"button\\\" (click)=\\\"viewRoute()\\\">\\n      <fa-icon [icon]=\\\"['fas','route']\\\" size=\\\"1x\\\" class=\\\"rstar-icon\\\" style=\\\"font-size: 21px;\\\"></fa-icon>\\n      <p class=\\\"no_margin_p\\\" style=\\\"font-size:13px;\\\">Stoppage</p>\\n    </ion-card>\\n    <ion-card class=\\\"qr_card\\\" slot=\\\"end\\\" type=\\\"button\\\" (click)=\\\"scanQrCode()\\\">\\n      <ion-icon ios=\\\"ios-qr-scanner\\\" md=\\\"md-qr-scanner\\\" style=\\\"font-size: 21px;\\\"></ion-icon>\\n      <p class=\\\"no_margin_p\\\" style=\\\"font-size:13px;\\\">Scan QR</p>\\n    </ion-card>\\n\\n  </ion-toolbar>\\n</ion-header>\\n<ion-progress-bar type=\\\"indeterminate\\\" class=\\\"progress_bar\\\" *ngIf=\\\"progress_bar\\\"></ion-progress-bar>\\n<ion-content>\\n  <div #map id=\\\"map\\\"></div>\\n \\n  <!-- <ion-button type=\\\"button\\\"  size=\\\"default\\\" color=\\\"tertiary\\\" (click)=\\\"startTracking()\\\">\\n    <ion-icon name=\\\"locate\\\"></ion-icon>\\n    Start\\n  </ion-button>\\n  <ion-button type=\\\"button\\\"  size=\\\"default\\\" color=\\\"tertiary\\\" (click)=\\\"stopTracking()\\\">\\n      <ion-icon name=\\\"hand\\\"></ion-icon>\\n      Stop\\n  </ion-button>\\n  <ion-button type=\\\"button\\\"  size=\\\"default\\\" color=\\\"tertiary\\\" (click)=\\\"GetLocations()\\\">\\n    <ion-icon name=\\\"hand\\\"></ion-icon>\\n    GetLocations\\n</ion-button> -->\\n\\n  <!-- <ion-list-header><ion-label>Previous Tracks History</ion-label></ion-list-header>\\n  <ion-grid>\\n    \\n      <ion-row *ngFor=\\\"let pos of locations | async\\\">\\n\\n        <ion-col>\\n          <p>Lat: {{ pos.lat }}</p>\\n          <p>Lng: {{ pos.lng }}</p>\\n          <p>\\n            {{ pos.timestamp | date:'short' }}\\n          </p>\\n          <p>\\n            {{ pos.address}}\\n          </p>\\n        <button ion-button clear item-end (click)=\\\"showHistoryRoute(locations)\\\">View Route</button>\\n      </ion-col>\\n      </ion-row>\\n\\n     \\n\\n    \\n  </ion-grid> -->\\n</ion-content>\\n<ion-footer class=\\\"footer-bus-route-details\\\">\\n  <ion-grid no-margin no-paading>\\n    <ion-row text-center no-margin>\\n      <ion-col no-margin style=\\\"font-size: 20px;\\\" (click)=\\\"startTracking()\\\" *ngIf=\\\"!isTracking\\\">\\n        <fa-icon [icon]=\\\"['fas','play-circle']\\\" size=\\\"1x\\\" class=\\\"rstar-icon\\\"></fa-icon>\\n        START \\n      </ion-col>\\n    </ion-row>\\n    <ion-row text-center no-margin>\\n      <ion-col no-margin style=\\\"font-size: 20px;\\\" (click)=\\\"stopConfirm()\\\" *ngIf=\\\"isTracking\\\">\\n        <fa-icon [icon]=\\\"['fas','stop-circle']\\\" size=\\\"1x\\\" class=\\\"rstar-icon\\\"></fa-icon>\\n        STOP\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-footer>\"","module.exports = \"#map {\\n  width: 100%;\\n  height: 550px; }\\n\\n#markerLayer img {\\n  animation: pulse .5s infinite alternate;\\n  -webkit-animation: pulse .5s infinite alternate;\\n  transform-origin: center;\\n  -webkit-transform-origin: center; }\\n\\n.footer-bus-route-details {\\n  background: #0A5999;\\n  color: white;\\n  text-align: center;\\n  padding: 0 10px 0 10px; }\\n\\nion-header {\\n  --ion-background-color: linear-gradient(45deg, #0A5999 0%, #02A1EB 100%);\\n  --ion-text-color:#fff; }\\n\\n.qr_card {\\n  text-align: center;\\n  background: transparent;\\n  box-shadow: none;\\n  color: white;\\n  margin-right: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3ByaXlhbS9Eb2N1bWVudHMvUmVkeVJpZGVyL3NyYy9hcHAvbGF5b3V0L215YWNjb3VudC9sb2NhdGlvbi10cmFja2luZy9sb2NhdGlvbi10cmFja2luZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFXO0VBQ1gsYUFBYSxFQUFBOztBQUVqQjtFQUNJLHVDQUF1QztFQUN2QywrQ0FBK0M7RUFDL0Msd0JBQXdCO0VBQ3hCLGdDQUFnQyxFQUFBOztBQUdwQztFQUNJLG1CQUFtQjtFQUNuQixZQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLHNCQUFzQixFQUFBOztBQU0xQjtFQUNJLHdFQUF1QjtFQUN2QixxQkFBaUIsRUFBQTs7QUFFckI7RUFDSSxrQkFBa0I7RUFDbEIsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvbXlhY2NvdW50L2xvY2F0aW9uLXRyYWNraW5nL2xvY2F0aW9uLXRyYWNraW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXAge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNTUwcHg7XG4gICAgfVxuI21hcmtlckxheWVyIGltZyB7XG4gICAgYW5pbWF0aW9uOiBwdWxzZSAuNXMgaW5maW5pdGUgYWx0ZXJuYXRlO1xuICAgIC13ZWJraXQtYW5pbWF0aW9uOiBwdWxzZSAuNXMgaW5maW5pdGUgYWx0ZXJuYXRlO1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjtcbiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjtcbiAgICB9XG5cbi5mb290ZXItYnVzLXJvdXRlLWRldGFpbHN7XG4gICAgYmFja2dyb3VuZDogIzBBNTk5OTtcbiAgICBjb2xvcjp3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMCAxMHB4IDAgMTBweDtcbn1cbi8vIGlvbi10b29sYmFye1xuLy8gICAgIC0tYmFja2dyb3VuZDp0cmFuc3BhcmVudDtcbi8vICAgICAtLWNvbG9yOndoaXRlO1xuLy8gfVxuaW9uLWhlYWRlciB7XG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjMEE1OTk5IDAlLCAjMDJBMUVCIDEwMCUpO1xuICAgIC0taW9uLXRleHQtY29sb3I6I2ZmZjtcbn1cbi5xcl9jYXJke1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG59Il19 */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Subscription } from 'rxjs';\nimport { Storage } from '@ionic/storage';\nimport { NavController, Platform } from '@ionic/angular';\nimport { NativeGeocoder, NativeGeocoderOptions, NativeGeocoderResult } from '@ionic-native/native-geocoder/ngx';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AngularFirestoreCollection, AngularFirestore } from '@angular/fire/firestore';\nimport { BackgroundGeolocation, BackgroundGeolocationConfig, BackgroundGeolocationEvents, BackgroundGeolocationResponse } from '@ionic-native/background-geolocation/ngx';\nimport { LocalNotifications, ELocalNotificationTriggerUnit } from '@ionic-native/local-notifications/ngx';\nimport { OfficePoolCarService } from '../../../core/services/office-pool-car.service';\nimport { Insomnia } from '@ionic-native/insomnia/ngx';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { ToasterService } from '../../../core/services/toaster.service';\nimport { AlertController } from '@ionic/angular';\nimport { AuthenticationService } from '../../../core/services/authentication.service';\nimport { RouteStoppageModalPage } from '../../office-pool-car-service/route-stoppage-modal/route-stoppage-modal.page';\nimport { ModalService } from '../../../core/services/modal.service';\n\ndeclare var google;\nimport { map } from 'rxjs/operators';\ndeclare var window;\n@Component({\n  selector: 'app-location-tracking',\n  templateUrl: './location-tracking.page.html',\n  styleUrls: ['./location-tracking.page.scss', '../../layout.page.scss'],\n})\nexport class LocationTrackingPage implements OnInit {\n  @ViewChild('map') mapElement: ElementRef;\n  progress_bar: boolean = false;\n  driver_current_lat;\n  driver_current_lng;\n  car_id;\n  driver_marker;\n  lat;\n  lng;\n  last_driver_postion;\n  directionsService = new google.maps.DirectionsService;\n  directionsDisplay = new google.maps.DirectionsRenderer({ suppressMarkers: true });\n  distanceService = new google.maps.DistanceMatrixService;\n  location_source;\n  location_destination;\n  ride_startTime;\n  ride_endTime;\n  already_exist_firebase;\n  driver_distance_from_starting_point;\n  driver_distance_from_ending_point\n  DirectionsWaypoint = [];\n  back_button_visible: boolean = true;\n  locations: Observable<any>;\n  locationsCollection: AngularFirestoreCollection<any>;\n  arr = [];\n  user = null;\n  map: any;\n  currentMapTrack = null;\n  markers = [];\n  isTracking = false;\n  trackedRoute = [];\n  previousTracks = [];\n  loc = [];\n  watch: any;\n  positionSubscription: Subscription;\n  geoAddress: string;\n  //Geocoder configuration\n  geoencoderOptions: NativeGeocoderOptions = {\n    useLocale: true,\n    maxResults: 5\n  };\n  stoppage_list = [];\n  start_location = '';\n  end_location = '';\n  car_type = '';\n  route_id = '';\n  driver_id = '';\n  route_start_point;\n  route_end_point;\n  constructor(\n    public navCtrl: NavController,\n    private plt: Platform,\n    private geolocation: Geolocation,\n    private storage: Storage,\n    private nativeGeocoder: NativeGeocoder,\n    private backgroundGeolocation: BackgroundGeolocation,\n    private afAuth: AngularFireAuth,\n    private afs: AngularFirestore,\n    private localNotifications: LocalNotifications,\n    private route: ActivatedRoute,\n    private officePoolCarService: OfficePoolCarService,\n    private insomnia: Insomnia,\n    private barcodeScanner: BarcodeScanner,\n    private toasterService: ToasterService,\n    public alertController: AlertController,\n    private authenticationService: AuthenticationService,\n    public modalService: ModalService,\n\n  ) {\n    console.log('constructor')\n    this.car_id = this.route.snapshot.params['car_id'];\n    this.driver_id = this.route.snapshot.params['driver_id'];\n    this.storage.get('car_details').then((val) => {\n      if (val) {\n        val.forEach(element => {\n          if (element.car_id == this.car_id) {\n            console.log(element);\n            this.route_id = element.route_id;\n            this.stoppage_list = element.stoppage_list;\n            this.start_location = element.start_location;\n            this.end_location = element.end_location;\n            this.car_type = element.car_type;\n            this.route_end_point = element.end_point_id;\n            this.route_start_point = element.start_point_id;\n            this.loadMap({ lat: parseFloat(element.start_lat), lng: parseFloat(element.start_long) },\n              { lat: parseFloat(element.end_lat), lng: parseFloat(element.end_long) });\n            element.stoppage_list_1.forEach(element => {\n              let waypoint_location;\n              waypoint_location = {\n                location: { lat: parseFloat(element.location.lat), lng: parseFloat(element.location.lng) },\n                stopover: element.stopover\n              };\n              //console.log('element:',waypoint_location);\n              this.DirectionsWaypoint.push(waypoint_location);\n            });\n            this.ride_startTime = parseFloat(element.start_end_time.start_time);\n            this.ride_endTime = parseFloat(element.start_end_time.end_time);\n          }\n        });\n      }\n    });\n    this.storage.get('USER_INFO').then((val) => {\n      if (val) {\n        //this.refer_code = val.user_account_no+'-'+val.name;\n        this.anonLogin(val.user_account_no + '-' + val.name + '-' + new Date());\n      }\n    });\n  }\n  ngOnInit() {\n    console.log('ngOnInit')\n    const config: BackgroundGeolocationConfig = {\n      desiredAccuracy: 10,\n      stationaryRadius: 20,\n      interval: 2000,\n      distanceFilter: 30,\n      debug: true, //  enable this hear sounds for background-geolocation life-cycle.\n      stopOnTerminate: false, // enable this to clear background location settings when the app terminates\n    };\n    this.backgroundGeolocation.configure(config).then(() => {\n      this.backgroundGeolocation.on(BackgroundGeolocationEvents.location).subscribe(\n        (location: BackgroundGeolocationResponse) => {\n          console.log(location);\n          this.driver_current_lat = location.latitude;\n          this.driver_current_lng = location.longitude;\n          this.update_driver_cordinated_to_firebase();\n          this.backgroundGeolocation.finish(); // FOR IOS ONLY\n        });\n    });\n  }\n\n  ionViewDidEnter() {\n    console.log('ionViewDidEnter')\n    this.plt.ready().then(() => {\n      //this.loadHistoricRoutes();\n    });\n  }\n  ionViewWillEnter() {\n    console.log('ionViewWillEnter')\n    //this.loadMap();\n  }\n  loadMap(location_source, location_destination) {\n    this.map = new google.maps.Map(this.mapElement.nativeElement, {\n      center: { lat: -34.9011, lng: -56.1645 },\n      zoom: 30,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      // mapTypeControl: true,\n      // streetViewControl: true,\n      // fullscreenControl: true\n      disableDefaultUI: true,\n      tilt: 45,\n    });\n    //var image = '/assets/svg/sos.svg'\n    this.geolocation.getCurrentPosition().then(resp => {\n      //console.log('resp', resp)\n      let pos = {\n        lat: resp.coords.latitude,\n        lng: resp.coords.longitude\n      };\n      this.driver_marker = new google.maps.Marker({\n        position: pos,\n        map: this.map,\n        //icon: \"http://tobuekalabya.com/carservice_manage/icon/car_top.png\",\n        icon: \"http://tobuekalabya.com/carservice_manage/icon/icon_map_baloon.png\",\n        title: 'you are here!',\n        //animation: google.maps.Animation.DROP,\n      });\n      //marker.setAnimation(google.maps.Animation.BOUNCE);\n      //this.markers.push(marker);\n      this.map.setCenter(pos);\n      this.map.setZoom(30);\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n    this.directionsDisplay.setMap(this.map);\n    console.log('start_loc', this.start_location);\n    this.location_source = location_source;\n    this.location_destination = location_destination;\n    this.calculateAndDisplayRoute();\n  }\n\n  calculateAndDisplayRoute() {\n    const that = this;\n\n    //console.log(this.DirectionsWaypoint);\n    that.directionsService.route({\n      origin: this.location_source, //origin \n      destination: this.location_destination, //destination\n      travelMode: 'DRIVING',\n      waypoints: this.DirectionsWaypoint,\n    }, (response, status) => {\n      //alert(1);\n      if (status === 'OK') {\n\n        that.directionsDisplay.setDirections(response);\n        this.stoppage_list.forEach(element => {\n          let waypoint_location_marker;\n          let pos_marker = {\n            lat: parseFloat(element.lat),\n            lng: parseFloat(element.lng)\n          };\n          var infowindow = new google.maps.InfoWindow({\n            content: String(element.location_name)\n          });\n          //console.log(\"Location:\" ,element.location_name);\n          waypoint_location_marker = new google.maps.Marker({\n            position: pos_marker,\n            map: this.map,\n            icon: element.icon,\n            //icon: \"http://maps.google.com/mapfiles/ms/icons/green-dot.png\",\n            title: 'you are here!',\n            //animation: google.maps.Animation.DROP,\n          });\n          // if (element.start == true || element.stop == true) {\n          //   infowindow.open(this.map, waypoint_location_marker);\n          // }\n        });\n\n        //this.loadMap();\n      } else {\n        window.alert('Directions request failed due to ' + status);\n      }\n    });\n  }\n  anonLogin(user) {\n    this.afAuth.auth.signInAnonymously().then(res => {\n      this.locationsCollection = this.afs.collection(\n        `locations/${user}/track`,\n        ref => ref.orderBy('timestamp')\n      );\n      //load firebase data\n      this.locations = this.locationsCollection.snapshotChanges().pipe(\n        map(actions =>\n          actions.map(a => {\n            const data = a.payload.doc.data();\n            const id = a.payload.doc.id;\n            return { id, ...data };\n          })\n        )\n      );\n      console.log('this.locations', this.locations)\n      this.locations.subscribe(locations => {\n        console.log('new location: ', locations);\n        this.loc = locations;\n        //this.updateMap(locations);\n      })\n    });\n  }\n  startTracking() {\n    let car_id = this.car_type + \"-\" + this.car_id;\n    //console.log(\"car: \", car_id);\n    this.afs.collection('locations').snapshotChanges().subscribe(data => {\n      //this.driver_curent_live_location = \n      data.map(e => {\n        if (e.payload.doc.id == car_id) {\n          this.already_exist_firebase = true;\n        }\n      })\n    });\n    if (this.already_exist_firebase == true) {\n      console.log('sdfffffdsfdfsdfd')\n      this.tracking_location();\n    } else {\n      this.create_tracking_inFirebase();\n    }\n  }\n\n  create_tracking_inFirebase() {\n    var driver_current_lat;\n    var driver_current_lng;\n    const that = this;\n    this.geolocation.getCurrentPosition().then((resp) => {\n      driver_current_lat = resp.coords.latitude;\n      driver_current_lng = resp.coords.longitude;\n\n      var driver_current_lat_1 = parseFloat(driver_current_lat);//parse float value of lat\n      var driver_current_lng_1 = parseFloat(driver_current_lng);//parse float value of lng\n\n      /////////////////////////////////////Distance/////////////////////////////\n\n      this.distanceService.getDistanceMatrix({\n        origins: [new google.maps.LatLng(driver_current_lat_1, driver_current_lng_1)],\n        destinations: [this.location_source],\n        travelMode: 'DRIVING',\n        unitSystem: google.maps.UnitSystem.METRIC,\n        avoidHighways: false,\n        avoidTolls: false\n      }, function (response, status) {\n        if (status !== 'OK') {\n          alert('Error was: ' + status);\n        } else {\n          that.driver_distance_from_starting_point = parseFloat(response.rows[0].elements[0].distance.text); //driver distance from ride starting point\n\n          if (that.driver_distance_from_starting_point <= 2000) { //// should be 2\n            this.back_button_visible = false;\n\n            let date = new Date();\n\n            // (date.getHours())*100)+date.getMinutes() //// Current time in a army time format\n            //that.ride_startTime-15 // 15 min erly of ride time\n\n            if ((that.ride_startTime - 1500) <= ((date.getHours()) * 100) + date.getMinutes()) { ////15 min\n              console.log(\"ride time\", (parseFloat(that.ride_startTime) - 1500));\n\n\n              // that.geolocation.getCurrentPosition().then((resp) => {\n              //   let record = {};\n\n              //   record['lat'] = resp.coords.latitude;\n              //   record['long'] = resp.coords.longitude;\n              //   record['name'] = \"\"; //////car name\n              //   let car_id = that.car_type + \"-\" + that.car_id;\n              //   that.afs.collection('locations').doc(car_id).set(record); //////car id\n\n              // }).catch((error) => {\n              //   console.log('Error getting location', error);\n              // });\n\n              let record = {};\n\n              record['lat'] = driver_current_lat_1;\n              record['long'] = driver_current_lng_1;\n              record['name'] = \"\"; //////car name\n\n              let car_id = that.car_type + \"-\" + that.car_id;\n              that.afs.collection('locations').doc(car_id).set(record); //////car id\n\n\n              that.tracking_location();\n\n\n            } else {\n              alert(\"Please Start the ride within time!\");\n            }\n\n          } else {\n            alert(\"The Driver must Start the ride from the Starting point of the route!\");\n          }\n\n        }\n      });\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n    //console.log(google.maps.LatLng(driver_current_lat, driver_current_lng));\n\n  }\n\n  tracking_location() {\n    this.isTracking = true;\n    this.back_button_visible = false;\n    this.insomnia.keepAwake()\n      .then(\n        () => console.log('success'),\n        () => console.log('error')\n      );\n\n    this.backgroundGeolocation.start();\n    let options = {\n      frequency: 3000,\n      enableHighAccuracy: true\n    };\n    let point_nember = 1;\n    this.trackedRoute = [];\n    this.watch = this.geolocation.watchPosition(options)\n      .subscribe((position) => {\n        console.log('new position: ', position)\n        if (position) {\n          this.trackedRoute.push(\n            {\n              lat: position.coords.latitude,\n              lng: position.coords.longitude,\n              address: this.geoAddress,\n              point_number: point_nember\n            });\n          point_nember++;\n          this.driver_current_lat = position.coords.latitude;\n          this.driver_current_lng = position.coords.longitude;\n          let new_driver_location = new google.maps.LatLng(this.driver_current_lat, this.driver_current_lng);\n          if (this.last_driver_postion != undefined) {\n            //console.log('last postion ',this.last_driver_postion);\n            var heading = google.maps.geometry.spherical.computeHeading(this.last_driver_postion, new_driver_location);\n            this.driver_marker.rotation = heading;\n            this.map.setHeading = heading;\n            //this.map.tilt=45;\n          }\n          console.log(new_driver_location);\n          this.driver_marker.setPosition(new_driver_location);\n          this.map.panTo(new_driver_location);\n          this.update_driver_cordinated_to_firebase();\n        }\n      });\n    this.sendNotificationToPassengers();\n  }\n\n  update_driver_cordinated_to_firebase() {\n    let record = {};\n    record['lat'] = this.driver_current_lat;\n    record['long'] = this.driver_current_lng;\n    record['name'] = 'test1.03.2020'; ///////car name optional\n    let car_id = this.car_type + \"-\" + this.car_id; ///////car id required\n    this.afs.collection('locations').doc(car_id).update(record);\n  }\n\n  stopTracking() {\n    //console.log(\"distance dirve\",parseFloat(this.driver_distance_from_ending_point));\n\n    const that = this;\n    var ending_driver_current_lat;\n    var ending_driver_current_lng;\n\n    this.geolocation.getCurrentPosition().then((resp) => {\n      //console.log(resp.coords);\n      //alert(1);\n\n      ending_driver_current_lat = resp.coords.latitude;\n      ending_driver_current_lng = resp.coords.longitude;\n\n      var driver_current_lat_1 = parseFloat(ending_driver_current_lat);\n      var driver_current_lng_1 = parseFloat(ending_driver_current_lng);\n\n      this.distanceService.getDistanceMatrix({\n        origins: [new google.maps.LatLng(driver_current_lat_1, driver_current_lng_1)],\n        destinations: [this.location_destination],\n        travelMode: 'DRIVING',\n        unitSystem: google.maps.UnitSystem.METRIC,\n        avoidHighways: false,\n        avoidTolls: false\n      }, function (response, status) {\n        if (status !== 'OK') {\n          alert('Error was: ' + status);\n        } else {\n\n          // var originList = response.originAddresses;\n          // var destinationList = response.destinationAddresses;\n\n          // var get_distance=response.rows[0].elements;\n          that.driver_distance_from_ending_point = parseFloat(response.rows[0].elements[0].distance.text);\n\n          //console.log('originList' , that.driver_distance_from_starting_point);\n          console.log('destinationList', that.driver_distance_from_ending_point);\n\n\n          if (that.driver_distance_from_starting_point <= 0.5) {\n\n            that.isTracking = false;\n\n            that.backgroundGeolocation.stop();\n            that.watch.unsubscribe();\n            //this.currentMapTrack.setMap(null);\n\n            this.insomnia.allowSleepAgain()\n              .then(\n                () => console.log('success'),\n                () => console.log('error')\n              );\n\n\n\n            let car_id = this.car_type + \"-\" + this.car_id;\n            this.afs.collection('locations').doc(car_id).delete();\n            this.endJourney();\n            this.authenticationService.logout();\n            navigator['app'].exitApp();\n\n\n          } else {\n            alert(\"The Driver must End the ride from the Ending point of the route!\");\n          }\n\n        }\n      });\n\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n\n\n\n  }\n  sendNotificationToPassengers() {\n    this.progress_bar = true;\n    let request_data = {\n      \"type\": \"drive_start\",\n      \"route_id\": this.route_id,\n      \"route_timing_id\": 0,\n      \"car_id\": this.car_id,\n      \"driver_id\": this.driver_id\n    };\n    console.log('request_data', request_data)\n    this.officePoolCarService.todayRidesService(request_data).subscribe(\n      res => {\n        //this.result_data = res.result;\n        //console.log(\"res:::\" + this.stopp_list.length);\n        this.storage.set('drive_history_id', res.result.drive_history_id)\n        this.progress_bar = false;\n      },\n      error => {\n        //console.log(\"error::::\" + error.error.msg);\n        this.progress_bar = false;\n        //this.toasterService.showToast(error.error.msg, 2000)\n      }\n    );\n  }\n  endJourney() {\n    this.progress_bar = true;\n    this.storage.get('drive_history_id').then((val) => {\n      if (val) {\n        let request_data = { \"type\": \"drive_end\", \"drive_history_id\": val }\n        this.officePoolCarService.todayRidesService(request_data).subscribe(\n          res => {\n            this.progress_bar = false;\n\n          },\n          error => {\n            //console.log(\"error::::\" + error.error.msg);\n            this.progress_bar = false;\n            //this.toasterService.showToast(error.error.msg, 2000)\n          }\n        );\n      }\n    });\n\n  }\n  scanQrCode() {\n    this.barcodeScanner.scan().then(barcodeData => {\n      //console.log('Barcode data', barcodeData);\n      this.progress_bar = true;\n      let request_data = { \"type\": \"qr_code_val\", \"car_id\": this.car_id, 'qr_code': barcodeData.text };\n      this.officePoolCarService.todayRidesService(request_data).subscribe(\n        res => {\n          this.toasterService.showToast(res.result, 2000);\n          this.progress_bar = false;\n        },\n        error => {\n          //console.log(\"error::::\" + error.error);\n          this.progress_bar = false;\n          this.toasterService.showToast(error.error.msg, 2000);\n        }\n      );\n\n      // this.toasterService.showToast('Your seats has been confirmed, have a safe journey', 6000)\n\n      // this.toasterService.showToast('Qr code does not match! please contact to Redy Rider Help Line', 6000)\n\n    }).catch(err => {\n      console.log('Error', err);\n    });\n\n  }\n  async stopConfirm() {\n    const alert = await this.alertController.create({\n      //header: 'Confirm!',\n      message: 'Are you sure you want end this journey!!',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'alert-cancel-button',\n          handler: (blah) => {\n            this.alertResponseForLogout(false);\n\n          }\n        }, {\n          text: 'Yes',\n          cssClass: 'alert-ok-button',\n          handler: () => {\n            this.alertResponseForLogout(true);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n  alertResponseForLogout(response) {\n    if (response) {\n      this.stopTracking();\n\n    }\n  }\n  viewRoute() {\n    let data = { 'from_which_page': 'location-tracking-page', 'stoppage_list': this.stoppage_list }\n    this.modalService.openModal(RouteStoppageModalPage, data, 'stoppage_modal_css');\n  }\n}\n"],"sourceRoot":""}