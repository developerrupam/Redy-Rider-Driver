(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"Y6/W":function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=e("Ht5U"),u=e("WTUP"),i=e("gTw3"),r=e("23JA"),c=function(){function l(l,n,e,t,o,u,i,r){this.router=l,this.route=n,this.storage=e,this.officePoolCarService=t,this.loadingService=o,this.zone=u,this.geolocation=i,this.nativeGeocoder=r,this.progress_bar=!1,this.geoencoderOptions={useLocale:!0,maxResults:5},this.search_address="",this.back_button_visible=!1,this.search_bar_visible=!1,this.network_check_class="",this.network_msg="",this.network_check_class_show=!1,this.isItemAvailable=!1,this.quick_actions=!0,this.GoogleAutocomplete=new google.maps.places.AutocompleteService,this.autocomplete={input:""},this.autocompleteItems=[]}return l.prototype.ngOnInit=function(){this.which_type_search=this.route.snapshot.paramMap.get("type"),"drop"==this.which_type_search&&(this.quick_actions=!1)},l.prototype.initializeItems=function(l){var n=this;void 0===l&&(l=""),this.loadingService.dismiss(),this.officePoolCarService.commonSearchService({type:"auto_search",location:l}).subscribe(function(l){console.log("result",l.result),n.items=l.result},function(l){console.log("error::::"+l.error),n.loadingService.dismiss()})},l.prototype.getItems=function(l){var n=this,e=l.target.value;console.log("val",e),this.officePoolCarService.commonSearchService({type:"auto_search",location:e}).subscribe(function(l){console.log("result",l.result),n.isNoItemAvailable=!1,n.isItemAvailable=!0,n.items=l.result},function(l){console.log("error::::"+l.error),n.isItemAvailable=!1,n.isNoItemAvailable=!0})},l.prototype.updateSearchResults=function(l){var n=this;this.isItemAvailable=!1,this.isNoItemAvailable=!1;var e=l.target.value;if(""==e)return this.autocompleteItems=[],void(this.quick_actions=!0);console.log("this.autocomplete.input",e),this.GoogleAutocomplete.getPlacePredictions({input:e},function(l,e){n.quick_actions=!1,n.autocompleteItems=[],n.zone.run(function(){l.forEach(function(l){n.autocompleteItems.push(l)})})})},l.prototype.selectLocation=function(l,n){var e=this;this.storage.get("select_location").then(function(t){if(null!=t){var o=t;"pickup"==n?(o.pickup_location=l,e.storage.set("select_location",o)):"drop"==n&&(o.drop_location=l,e.storage.set("select_location",o))}else"pickup"==n?e.storage.set("select_location",{pickup_location:l}):"drop"==n&&e.storage.set("select_location",{drop_location:l})}),this.router.navigateByUrl("office-pool-car-service")},l.prototype.currentLocation=function(){var l=this;this.geolocation.getCurrentPosition().then(function(n){console.log("resp",n),l.getGeoencoder(n.coords.latitude,n.coords.longitude),l.selectLocation(l.search_address,"pickup")}).catch(function(l){console.log("Error getting location",l)})},l.prototype.getGeoencoder=function(l,n){var e=this;this.nativeGeocoder.reverseGeocode(l,n,this.geoencoderOptions).then(function(l){e.search_address=e.generateAddress(l[0]),console.log("this.search_address",e.search_address)}).catch(function(l){alert("Error getting location"+JSON.stringify(l))})},l.prototype.generateAddress=function(l){var n=[],e="";for(var t in l)n.push(l[t]);for(var o in n.reverse(),n)n[o].length&&(e+=n[o]+", ");return e.slice(0,-2)},l}(),s=function(){return function(){}}(),a=e("pMnS"),b=e("oBZk"),p=e("ZZ/e"),h=e("gIcY"),g=e("Ip0R"),d=e("ZYCi"),f=e("iw74"),m=t.ob({encapsulation:0,styles:[["ion-searchbar[_ngcontent-%COMP%]{--background:white;padding:0}ion-header[_ngcontent-%COMP%]{--ion-background-color:#3880ff;--ion-text-color:#fff}.border_button[_ngcontent-%COMP%]{height:44px;border:1px solid #3880ff;margin-right:10px;border-radius:23px}"]],data:{}});function v(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,1,"div",[],[[8,"className",0],[4,"background",null]],null,null,null,null)),(l()(),t.Gb(1,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,t.sb(1,"",e.network_check_class,""),"disconnect"==e.network_check_class?"red":"#4CAF50"),l(n,1,0,e.network_msg)})}function k(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,1,"ion-progress-bar",[["class","progress_bar"],["type","indeterminate"]],null,null,null,b.wb,b.E)),t.pb(1,49152,null,0,p.ab,[t.h,t.k,t.z],{type:[0,"type"]},null)],function(l,n){l(n,1,0,"indeterminate")},null)}function _(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,14,"div",[["style","margin: 0 0 0 10px;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.currentLocation()&&t),t},null,null)),(l()(),t.qb(1,0,null,null,1,"p",[["style","margin: 10px;"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,["Quick Selections"])),(l()(),t.qb(3,0,null,null,11,"ion-grid",[["no-margin",""],["no-padding",""]],null,null,null,b.hb,b.p)),t.pb(4,49152,null,0,p.C,[t.h,t.k,t.z],null,null),(l()(),t.qb(5,0,null,0,9,"ion-row",[["no-margin",""],["no-padding",""]],null,null,null,b.zb,b.H)),t.pb(6,49152,null,0,p.kb,[t.h,t.k,t.z],null,null),(l()(),t.qb(7,0,null,0,7,"ion-col",[["size","5"],["text-center",""]],null,null,null,b.ab,b.i)),t.pb(8,49152,null,0,p.v,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.qb(9,0,null,0,5,"ion-card",[["no-margin",""],["no-padding",""]],null,null,null,b.Y,b.f)),t.pb(10,49152,null,0,p.o,[t.h,t.k,t.z],null,null),(l()(),t.qb(11,0,null,0,1,"ion-img",[["alt","redy rider"],["src","./assets/svg/logo.svg"],["style","width: 30px;margin: 10px 0px 0px 50px;"]],null,null,null,b.kb,b.s)),t.pb(12,49152,null,0,p.F,[t.h,t.k,t.z],{alt:[0,"alt"],src:[1,"src"]},null),(l()(),t.qb(13,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Gb(-1,null,["Current Location"]))],function(l,n){l(n,8,0,"5"),l(n,12,0,"redy rider","./assets/svg/logo.svg")},null)}function y(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,3,"ion-item",[["class","item-class"],["lines","full"],["tappable",""]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;return"click"===n&&(t=!1!==o.selectLocation(l.context.$implicit.description,o.which_type_search)&&t),t},b.qb,b.w)),t.pb(1,49152,null,0,p.J,[t.h,t.k,t.z],{lines:[0,"lines"]},null),(l()(),t.qb(2,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Gb(3,null,["",""]))],function(l,n){l(n,1,0,"full")},function(l,n){l(n,3,0,n.context.$implicit.description)})}function q(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,3,"ion-text",[["color","danger"]],null,null,null,b.Db,b.L)),t.pb(1,49152,null,0,p.yb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.qb(2,0,null,0,1,"p",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Gb(-1,null,["No location Found"]))],function(l,n){l(n,1,0,"danger")},null)}function I(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,17,"ion-header",[],null,null,null,b.ib,b.q)),t.pb(1,49152,null,0,p.D,[t.h,t.k,t.z],null,null),(l()(),t.qb(2,0,null,0,13,"ion-toolbar",[["style","padding:0 10px 0px 0px;"]],null,null,null,b.Ib,b.Q)),t.pb(3,49152,null,0,p.Db,[t.h,t.k,t.z],null,null),(l()(),t.qb(4,0,null,0,6,"ion-searchbar",[["debounce","10000"],["placeholder","Enter pickup location"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionInput"],[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,e){var o=!0,u=l.component;return"ionBlur"===n&&(o=!1!==t.Ab(l,5)._handleBlurEvent()&&o),"ionChange"===n&&(o=!1!==t.Ab(l,5)._handleInputEvent(e.target.value)&&o),"ionInput"===n&&(o=!1!==u.updateSearchResults(e)&&o),"ngModelChange"===n&&(o=!1!==(u.search_address=e)&&o),o},b.Ab,b.I)),t.pb(5,16384,null,0,p.Sb,[t.k],null,null),t.Db(1024,null,h.i,function(l){return[l]},[p.Sb]),t.pb(7,671744,null,0,h.m,[[8,null],[8,null],[8,null],[6,h.i]],{model:[0,"model"]},{update:"ngModelChange"}),t.Db(2048,null,h.j,null,[h.m]),t.pb(9,16384,null,0,h.k,[[4,h.j]],null,null),t.pb(10,49152,null,0,p.lb,[t.h,t.k,t.z],{debounce:[0,"debounce"],placeholder:[1,"placeholder"],type:[2,"type"]},null),(l()(),t.qb(11,0,null,0,4,"ion-buttons",[["class","border_button"],["slot","start"]],null,null,null,b.W,b.e)),t.pb(12,49152,null,0,p.n,[t.h,t.k,t.z],null,null),(l()(),t.qb(13,0,null,0,2,"ion-back-button",[["defaultHref","home"]],null,[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t.Ab(l,15).onClick(e)&&o),o},b.T,b.b)),t.pb(14,49152,null,0,p.i,[t.h,t.k,t.z],{defaultHref:[0,"defaultHref"]},null),t.pb(15,16384,null,0,p.j,[[2,p.jb],p.Kb],{defaultHref:[0,"defaultHref"]},null),(l()(),t.hb(16777216,null,0,1,null,v)),t.pb(17,16384,null,0,g.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(18,0,null,null,11,"ion-content",[],null,null,null,b.bb,b.j)),t.pb(19,49152,null,0,p.w,[t.h,t.k,t.z],null,null),(l()(),t.hb(16777216,null,0,1,null,k)),t.pb(21,16384,null,0,g.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,0,1,null,_)),t.pb(23,16384,null,0,g.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(24,0,null,0,3,"ion-list",[],[[8,"hidden",0]],null,null,b.sb,b.A)),t.pb(25,49152,null,0,p.Q,[t.h,t.k,t.z],null,null),(l()(),t.hb(16777216,null,0,1,null,y)),t.pb(27,278528,null,0,g.i,[t.P,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.hb(16777216,null,0,1,null,q)),t.pb(29,16384,null,0,g.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,7,0,e.search_address),l(n,10,0,"10000","Enter pickup location","text"),l(n,14,0,"home"),l(n,15,0,"home"),l(n,17,0,e.network_check_class_show),l(n,21,0,e.progress_bar),l(n,23,0,e.quick_actions),l(n,27,0,e.autocompleteItems),l(n,29,0,e.isNoItemAvailable)},function(l,n){var e=n.component;l(n,4,0,t.Ab(n,9).ngClassUntouched,t.Ab(n,9).ngClassTouched,t.Ab(n,9).ngClassPristine,t.Ab(n,9).ngClassDirty,t.Ab(n,9).ngClassValid,t.Ab(n,9).ngClassInvalid,t.Ab(n,9).ngClassPending),l(n,24,0,0==e.autocompleteItems.length)})}function w(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,1,"app-search-location",[],null,null,null,I,m)),t.pb(1,114688,null,0,c,[d.m,d.a,f.b,o.a,u.a,t.z,i.a,r.a],null,null)],function(l,n){l(n,1,0)},null)}var A=t.mb("app-search-location",c,w,{},{},[]),x=e("Hf/j"),C=e("qxEu");e.d(n,"SearchLocationPageModuleNgFactory",function(){return z});var z=t.nb(s,[],function(l){return t.xb([t.yb(512,t.j,t.cb,[[8,[a.a,A]],[3,t.j],t.x]),t.yb(4608,g.l,g.k,[t.u,[2,g.t]]),t.yb(4608,h.t,h.t,[]),t.yb(4608,p.c,p.c,[t.z,t.g]),t.yb(4608,p.Jb,p.Jb,[p.c,t.j,t.q]),t.yb(4608,p.Ob,p.Ob,[p.c,t.j,t.q]),t.yb(1073742336,g.b,g.b,[]),t.yb(1073742336,h.r,h.r,[]),t.yb(1073742336,h.e,h.e,[]),t.yb(1073742336,p.Fb,p.Fb,[]),t.yb(1073742336,d.q,d.q,[[2,d.w],[2,d.m]]),t.yb(1073742336,x.f,x.f,[]),t.yb(1073742336,C.a,C.a,[]),t.yb(1073742336,s,s,[]),t.yb(1024,d.k,function(){return[[{path:"",component:c}]]},[])])})}}]);