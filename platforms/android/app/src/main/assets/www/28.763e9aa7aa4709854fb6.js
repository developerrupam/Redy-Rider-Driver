(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{K3bW:function(l,n,u){"use strict";u.r(n);var o=u("CcnG"),t=u("gIcY"),e=u("ZZ/e"),i=u("Ht5U"),a=u("WTUP"),r=u("ZgVV"),s=function(){function l(l,n,u,o,t,e,i){var a=this;this.formBuilder=l,this.wallet_event=n,this.toasterService=u,this.officePoolCarService=o,this.loadingService=t,this.storage=e,this.actionSheetController=i,this.net_connection_check=!1,this.page=0,this.transactionList=[],this.storage.get("USER_INFO").then(function(l){a.userId=l.id,a.userName=l.name,a.userEmail=l.email,a.userPhone=l.mobile,a.getTransactionHistory()})}return l.prototype.ngOnInit=function(){var l=this;this.wallet_event.subscribe("check_net_connection",function(n){"connect"==n&&(l.net_connection_check=!1),"disconnect"==n&&(l.net_connection_check=!0)}),this.form=this.formBuilder.group({amount:["",t.q.required]})},l.prototype.getTransactionHistory=function(l){var n=this;this.loadingService.present(),this.officePoolCarService.payThroughWalletService({type:"wallet",user_id:this.userId,filter_by:l}).subscribe(function(l){n.walletAmount=l.result.current_wallet_balance,n.transactionList=l.result.payment_history,n.loadingService.dismiss()},function(l){n.loadingService.dismiss(),n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.addMoneyToWallet=function(){var l=this,n={description:"Credits towards consultation",currency:"INR",key:"rzp_test_5oKpHg5DYNOtKG",amount:this.form.value.amount,name:this.userName,prefill:{email:this.userEmail,contact:this.userPhone,name:this.userName},theme:{color:"#F37254"},modal:{ondismiss:function(){console.log("dismissed")}}};RazorpayCheckout.open(n,function(u){l.addToWallet({type:"add_to_wallet",user_id:l.userId,amount:n.amount,transaction_no:u,referal_coupon_code_id:"0",recharge_by:"razorpay",status:"1"})},function(u){console.log(u.description+" (Error "+u.code+")"),l.addToWallet({type:"add_to_wallet",user_id:l.userId,amount:n.amount,transaction_no:"CANCEL",referal_coupon_code_id:"0",recharge_by:"razorpay",status:"3"})})},l.prototype.addToWallet=function(l){var n=this;this.officePoolCarService.payThroughWalletService(l).subscribe(function(l){n.getTransactionHistory(),n.toasterService.showToast("Your amound has been added to your wallet",2e3),n.loadingService.dismiss()},function(l){n.loadingService.dismiss(),n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.filterTransactions=function(){var l=this;this.actionSheet=this.actionSheetController.create({header:"Filter Transactions",buttons:[{text:"All",handler:function(){l.getTransactionHistory()}},{text:"Paid",handler:function(){l.getTransactionHistory("2")}},{text:"Add",handler:function(){l.getTransactionHistory("1")}},{text:"Cancelled",handler:function(){l.getTransactionHistory("3")}}]}).then(function(l){l.present()})},l}(),c=function(){return function(){}}(),b=u("pMnS"),p=u("oBZk"),d=u("fNgX"),g=u("Hf/j"),m=u("ZYjt"),f=u("Ip0R"),h=u("jWFl"),x=u("OOyK"),_=u("ZYCi"),y=u("iw74"),z=u("jKJn"),v=u("xoVG"),k=o.nb({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--background:transparent}.inner_div[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px}.inner_div_1[_ngcontent-%COMP%]{margin-bottom:0;background-color:#fff;padding:0 15px}.rupee_sign[_ngcontent-%COMP%]{margin-right:10px;opacity:.2;margin-left:-13px}ion-input[_ngcontent-%COMP%]{--placeholder-opacity:0.3}hr[_ngcontent-%COMP%]{border-width:0;margin:0}.hr_1[_ngcontent-%COMP%]{border-top:4px solid #0d47a1}.hr_2[_ngcontent-%COMP%]{border-top:2px solid #045ff6}ion-card[_ngcontent-%COMP%]{box-shadow:none!important}ion-toolbar[_ngcontent-%COMP%]{--background:transparent}.icon-payment[_ngcontent-%COMP%]{font-size:33px;display:block;border:1px solid gray;border-radius:35px;padding:8px;color:#0d47a1;margin-top:10px}ion-col[_ngcontent-%COMP%]{padding:0 15px}"]],data:{}});function C(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"p",[["padding",""]],null,null,null,null,null)),(l()(),o.Hb(-1,null,["No Transaction History Found"]))],null,null)}function w(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"ion-icon",[["class","icon-payment"],["name","ios-wallet"],["slot","start"]],null,null,null,p.Z,p.o)),o.ob(1,49152,null,0,e.E,[o.h,o.k,o.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"ios-wallet")},null)}function H(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"ion-icon",[["class","icon-payment"],["name","ios-cash"],["slot","start"]],null,null,null,p.Z,p.o)),o.ob(1,49152,null,0,e.E,[o.h,o.k,o.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"ios-cash")},null)}function T(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"ion-icon",[["class","icon-payment"],["name","ios-cash"],["slot","start"]],null,null,null,p.Z,p.o)),o.ob(1,49152,null,0,e.E,[o.h,o.k,o.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"ios-cash")},null)}function P(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,5,"p",[["slot","end"]],null,null,null,null,null)),(l()(),o.Hb(-1,null,[" - "])),(l()(),o.pb(2,0,null,null,2,"fa-icon",[["class"," ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),o.ob(3,573440,null,0,g.a,[m.c,g.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),o.Ab(4,2),(l()(),o.Hb(5,null,[" ",""]))],function(l,n){var u=l(n,4,0,"fas","rupee-sign");l(n,3,0,u,"1x")},function(l,n){l(n,2,0,o.zb(n,3).renderedIconHTML),l(n,5,0,n.parent.context.$implicit.amount)})}function I(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,5,"p",[["slot","end"],["style","color:green;"]],null,null,null,null,null)),(l()(),o.Hb(-1,null,[" + "])),(l()(),o.pb(2,0,null,null,2,"fa-icon",[["class"," ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),o.ob(3,573440,null,0,g.a,[m.c,g.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),o.Ab(4,2),(l()(),o.Hb(5,null,[" ",""]))],function(l,n){var u=l(n,4,0,"fas","rupee-sign");l(n,3,0,u,"1x")},function(l,n){l(n,2,0,o.zb(n,3).renderedIconHTML),l(n,5,0,n.parent.context.$implicit.amount)})}function M(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,36,"div",[],null,null,null,null,null)),(l()(),o.pb(1,0,null,null,1,"p",[["style","margin: 15px 0px 15px 15px;"]],null,null,null,null,null)),(l()(),o.Hb(2,null,["",""])),(l()(),o.pb(3,0,null,null,33,"ion-card",[["no-margin",""],["no-padding",""]],null,null,null,p.R,p.f)),o.ob(4,49152,null,0,e.o,[o.h,o.k,o.z],null,null),(l()(),o.pb(5,0,null,0,31,"ion-grid",[["no-margin",""],["no-padding",""]],null,null,null,p.X,p.m)),o.ob(6,49152,null,0,e.C,[o.h,o.k,o.z],null,null),(l()(),o.pb(7,0,null,0,29,"ion-row",[["no-margin",""]],null,null,null,p.mb,p.B)),o.ob(8,49152,null,0,e.kb,[o.h,o.k,o.z],null,null),(l()(),o.pb(9,0,null,0,27,"ion-col",[],null,null,null,p.T,p.i)),o.ob(10,49152,null,0,e.v,[o.h,o.k,o.z],null,null),(l()(),o.pb(11,0,null,0,15,"ion-toolbar",[],null,null,null,p.ub,p.J)),o.ob(12,49152,null,0,e.Db,[o.h,o.k,o.z],null,null),(l()(),o.gb(16777216,null,0,1,null,w)),o.ob(14,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,H)),o.ob(16,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,T)),o.ob(18,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(19,0,null,0,3,"p",[["slot","start"],["style","font-size:16px;margin:0px 0px 0px 10px;"]],null,null,null,null,null)),(l()(),o.Hb(20,null,[" "," "])),(l()(),o.pb(21,0,null,null,1,"span",[["style","display: block;\n                            opacity: 0.6;\n                            font-size: 12px;"]],null,null,null,null,null)),(l()(),o.Hb(22,null,[" "," "])),(l()(),o.gb(16777216,null,0,1,null,P)),o.ob(24,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,I)),o.ob(26,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(27,0,null,0,9,"ion-toolbar",[["style","--min-height:45px;"]],null,null,null,p.ub,p.J)),o.ob(28,49152,null,0,e.Db,[o.h,o.k,o.z],null,null),(l()(),o.pb(29,0,null,0,1,"p",[["slot","start"],["style","margin: 0 0 0 60px;\n                        opacity: 0.6;"]],null,null,null,null,null)),(l()(),o.Hb(30,null,["",""])),(l()(),o.pb(31,0,null,0,5,"p",[["slot","end"],["style","opacity: 0.6;"]],null,null,null,null,null)),(l()(),o.Hb(-1,null,["Closing Balance : "])),(l()(),o.pb(33,0,null,null,2,"fa-icon",[["class"," ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),o.ob(34,573440,null,0,g.a,[m.c,g.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),o.Ab(35,2),(l()(),o.Hb(36,null,[" ",""]))],function(l,n){l(n,14,0,"1"==n.context.$implicit.pay_for_no),l(n,16,0,"2"==n.context.$implicit.pay_for_no),l(n,18,0,"3"==n.context.$implicit.pay_for_no),l(n,24,0,"Debit"==n.context.$implicit.transaction_type),l(n,26,0,"Credit"==n.context.$implicit.transaction_type);var u=l(n,35,0,"fas","rupee-sign");l(n,34,0,u,"1x")},function(l,n){l(n,2,0,n.context.$implicit.trans_date),l(n,20,0,n.context.$implicit.pay_for),l(n,22,0,n.context.$implicit.transaction_id),l(n,30,0,n.context.$implicit.trans_time),l(n,33,0,o.zb(n,34).renderedIconHTML),l(n,36,0,n.context.$implicit.current_wallet_balance?n.context.$implicit.current_wallet_balance:0)})}function O(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"app-header",[],null,null,null,h.b,h.a)),o.ob(1,114688,null,0,x.a,[_.m,e.f,y.b,z.a,v.a],null,null),(l()(),o.pb(2,0,null,null,42,"div",[["slot","fixed"]],null,null,null,null,null)),(l()(),o.pb(3,0,null,null,39,"div",[["class","inner_div"]],null,null,null,null,null)),(l()(),o.pb(4,0,null,null,1,"p",[["class","no_margin_p"]],null,null,null,null,null)),(l()(),o.Hb(-1,null,["Add Money To"])),(l()(),o.pb(6,0,null,null,5,"ion-toolbar",[],null,null,null,p.ub,p.J)),o.ob(7,49152,null,0,e.Db,[o.h,o.k,o.z],null,null),(l()(),o.pb(8,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),o.Hb(-1,null,["Your Wallet"])),(l()(),o.pb(10,0,null,0,1,"ion-icon",[["name","ios-wallet"],["slot","end"],["style","font-size: 35px;"]],null,null,null,p.Z,p.o)),o.ob(11,49152,null,0,e.E,[o.h,o.k,o.z],{name:[0,"name"]},null),(l()(),o.pb(12,0,null,null,5,"p",[["class","no_margin_p"]],null,null,null,null,null)),(l()(),o.Hb(-1,null,["Available Balance \xa0\xa0"])),(l()(),o.pb(14,0,null,null,2,"fa-icon",[["class","rstar-icon ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),o.ob(15,573440,null,0,g.a,[m.c,g.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),o.Ab(16,2),(l()(),o.Hb(17,null,[" ",""])),(l()(),o.pb(18,0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==o.zb(l,20).onSubmit(u)&&t),"reset"===n&&(t=!1!==o.zb(l,20).onReset()&&t),t},null,null)),o.ob(19,16384,null,0,t.s,[],null,null),o.ob(20,540672,null,0,t.d,[[8,null],[8,null]],{form:[0,"form"]},null),o.Eb(2048,null,t.a,null,[t.d]),o.ob(22,16384,null,0,t.l,[[4,t.a]],null,null),(l()(),o.pb(23,0,null,null,14,"ion-item",[["lines","full"]],null,null,null,p.db,p.r)),o.ob(24,49152,null,0,e.J,[o.h,o.k,o.z],{lines:[0,"lines"]},null),(l()(),o.pb(25,0,null,0,9,"ion-input",[["autofocus","on"],["clearInput","true"],["formControlName","amount"],["inputmode","number"],["maxlength","10"],["placeholder","Amount"],["required","true"],["style","font-size: 30px;"],["type","number"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==o.zb(l,29)._handleBlurEvent()&&t),"ionChange"===n&&(t=!1!==o.zb(l,29)._handleIonChange(u.target.value)&&t),t},p.bb,p.q)),o.ob(26,16384,null,0,t.p,[],{required:[0,"required"]},null),o.ob(27,540672,null,0,t.f,[],{maxlength:[0,"maxlength"]},null),o.Eb(1024,null,t.h,function(l,n){return[l,n]},[t.p,t.f]),o.ob(29,16384,null,0,e.Mb,[o.k],null,null),o.Eb(1024,null,t.i,function(l){return[l]},[e.Mb]),o.ob(31,671744,null,0,t.c,[[3,t.a],[6,t.h],[8,null],[6,t.i],[2,t.u]],{name:[0,"name"]},null),o.Eb(2048,null,t.j,null,[t.c]),o.ob(33,16384,null,0,t.k,[[4,t.j]],null,null),o.ob(34,49152,null,0,e.I,[o.h,o.k,o.z],{autofocus:[0,"autofocus"],clearInput:[1,"clearInput"],inputmode:[2,"inputmode"],maxlength:[3,"maxlength"],placeholder:[4,"placeholder"],required:[5,"required"],type:[6,"type"]},null),(l()(),o.pb(35,0,null,0,2,"fa-icon",[["class","rupee_sign ng-fa-icon"],["size","2x"],["slot","start"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),o.ob(36,573440,null,0,g.a,[m.c,g.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),o.Ab(37,2),(l()(),o.pb(38,0,null,null,4,"ion-button",[["class","ion-margin-top"],["expand","full"],["size","large"],["type","button"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.addMoneyToWallet()&&o),o},p.O,p.d)),o.ob(39,49152,null,0,e.m,[o.h,o.k,o.z],{disabled:[0,"disabled"],expand:[1,"expand"],size:[2,"size"],type:[3,"type"]},null),(l()(),o.Hb(-1,0,[" Proceed To Add Money "])),(l()(),o.pb(41,0,null,0,1,"ion-icon",[["name","arrow-round-forward"]],null,null,null,p.Z,p.o)),o.ob(42,49152,null,0,e.E,[o.h,o.k,o.z],{name:[0,"name"]},null),(l()(),o.pb(43,0,null,null,0,"hr",[["class","hr_1"]],null,null,null,null,null)),(l()(),o.pb(44,0,null,null,0,"hr",[["class","hr_2"]],null,null,null,null,null)),(l()(),o.pb(45,0,null,null,19,"ion-content",[],null,null,null,p.U,p.j)),o.ob(46,49152,null,0,e.w,[o.h,o.k,o.z],null,null),(l()(),o.pb(47,0,null,0,9,"div",[["class"," inner_div_1"]],null,null,null,null,null)),(l()(),o.pb(48,0,null,null,8,"ion-toolbar",[],null,null,null,p.ub,p.J)),o.ob(49,49152,null,0,e.Db,[o.h,o.k,o.z],null,null),(l()(),o.pb(50,0,null,0,1,"p",[["class","no_margin_p"],["slot","start"]],null,null,null,null,null)),(l()(),o.Hb(-1,null,["Recent Transactions"])),(l()(),o.pb(52,0,null,0,4,"ion-chip",[["color","tertiary"],["outline","true"],["slot","end"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.filterTransactions()&&o),o},p.S,p.h)),o.ob(53,49152,null,0,e.u,[o.h,o.k,o.z],{color:[0,"color"],outline:[1,"outline"]},null),(l()(),o.Hb(-1,0,["Filter"])),(l()(),o.pb(55,0,null,0,1,"ion-icon",[["name","ios-options"]],null,null,null,p.Z,p.o)),o.ob(56,49152,null,0,e.E,[o.h,o.k,o.z],{name:[0,"name"]},null),(l()(),o.pb(57,0,null,0,7,"ion-list",[],null,null,null,p.gb,p.u)),o.ob(58,49152,null,0,e.Q,[o.h,o.k,o.z],null,null),(l()(),o.pb(59,0,null,0,3,"ion-text",[],null,null,null,p.pb,p.E)),o.ob(60,49152,null,0,e.yb,[o.h,o.k,o.z],null,null),(l()(),o.gb(16777216,null,0,1,null,C)),o.ob(62,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,0,1,null,M)),o.ob(64,278528,null,0,f.j,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,1,0),l(n,11,0,"ios-wallet");var o=l(n,16,0,"fas","rupee-sign");l(n,15,0,o,"1x"),l(n,20,0,u.form),l(n,24,0,"full"),l(n,26,0,"true"),l(n,27,0,"10"),l(n,31,0,"amount"),l(n,34,0,"on","true","number","10","Amount","true","number");var t=l(n,37,0,"fas","rupee-sign");l(n,36,0,t,"2x"),l(n,39,0,u.form.invalid||u.net_connection_check,"full","large","button"),l(n,42,0,"arrow-round-forward"),l(n,53,0,"tertiary","true"),l(n,56,0,"ios-options"),l(n,62,0,0==u.transactionList.length),l(n,64,0,u.transactionList)},function(l,n){var u=n.component;l(n,14,0,o.zb(n,15).renderedIconHTML),l(n,17,0,u.walletAmount?u.walletAmount:"0.00"),l(n,18,0,o.zb(n,22).ngClassUntouched,o.zb(n,22).ngClassTouched,o.zb(n,22).ngClassPristine,o.zb(n,22).ngClassDirty,o.zb(n,22).ngClassValid,o.zb(n,22).ngClassInvalid,o.zb(n,22).ngClassPending),l(n,25,0,o.zb(n,26).required?"":null,o.zb(n,27).maxlength?o.zb(n,27).maxlength:null,o.zb(n,33).ngClassUntouched,o.zb(n,33).ngClassTouched,o.zb(n,33).ngClassPristine,o.zb(n,33).ngClassDirty,o.zb(n,33).ngClassValid,o.zb(n,33).ngClassInvalid,o.zb(n,33).ngClassPending),l(n,35,0,o.zb(n,36).renderedIconHTML)})}function L(l){return o.Jb(0,[(l()(),o.pb(0,0,null,null,1,"app-wallet",[],null,null,null,O,k)),o.ob(1,114688,null,0,s,[t.b,e.f,r.a,i.a,a.a,y.b,e.a],null,null)],function(l,n){l(n,1,0)},null)}var S=o.lb("app-wallet",s,L,{},{},[]),J=u("qxEu");u.d(n,"WalletPageModuleNgFactory",function(){return E});var E=o.mb(c,[],function(l){return o.wb([o.xb(512,o.j,o.bb,[[8,[b.a,S]],[3,o.j],o.x]),o.xb(4608,f.m,f.l,[o.u,[2,f.s]]),o.xb(4608,t.t,t.t,[]),o.xb(4608,e.c,e.c,[o.z,o.g]),o.xb(4608,e.Jb,e.Jb,[e.c,o.j,o.q]),o.xb(4608,e.Ob,e.Ob,[e.c,o.j,o.q]),o.xb(4608,t.b,t.b,[]),o.xb(1073742336,f.b,f.b,[]),o.xb(1073742336,t.r,t.r,[]),o.xb(1073742336,t.e,t.e,[]),o.xb(1073742336,e.Fb,e.Fb,[]),o.xb(1073742336,_.q,_.q,[[2,_.w],[2,_.m]]),o.xb(1073742336,J.a,J.a,[]),o.xb(1073742336,g.f,g.f,[]),o.xb(1073742336,t.o,t.o,[]),o.xb(1073742336,c,c,[]),o.xb(1024,_.k,function(){return[[{path:"",component:s}]]},[])])})}}]);