(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{GSnO:function(l,n,t){"use strict";t.r(n);var i=t("CcnG"),u=t("S0jo"),o=t("ZgVV"),e=t("Ht5U"),a=t("ZZ/e"),r=t("WTUP"),s=function(){function l(l,n,t,i,u,o,e){this.storage=l,this.modalService=n,this.toasterService=t,this.officePoolCarService=i,this.actionSheetController=u,this.loadingService=o,this.router=e,this.page=1,this.maximumPages=10,this.transactionList=[],this.progress_bar=!1}return l.prototype.ngOnInit=function(){var l=this;this.storage.get("USER_INFO").then(function(n){l.userId=n.id,l.getTransactionHistory()})},l.prototype.filterTransactions=function(){var l=this;this.actionSheet=this.actionSheetController.create({header:"Filter Transactions",buttons:[{text:"All",handler:function(){l.filter="",l.getTransactionHistory()}},{text:"Paid",handler:function(){l.filter="2",l.getTransactionHistory()}},{text:"Cancelled",handler:function(){l.filter="3",l.getTransactionHistory()}}]}).then(function(l){l.present()})},l.prototype.getTransactionHistory=function(l){var n=this;this.progress_bar=!0,this.officePoolCarService.applyCouponService({type:"booking_list",user_id:this.userId,filter_by:this.filter,page:this.page,count:6}).subscribe(function(t){0==t.result.length?l.target.complete():n.transactionList=n.transactionList.concat(t.result),n.progress_bar=!1,l&&l.target.complete()},function(l){n.progress_bar=!1,n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.loadData=function(l){this.page++,this.getTransactionHistory(l),this.page===this.maximumPages&&(l.target.disabled=!0)},l.prototype.openBooking=function(l){this.router.navigateByUrl("myaccount/booking-history-details/"+l)},l}(),c=function(){return function(){}}(),p=t("pMnS"),b=t("oBZk"),g=t("fNgX"),f=t("Hf/j"),h=t("ZYjt"),m=t("jWFl"),d=t("OOyK"),y=t("ZYCi"),x=t("iw74"),v=t("jKJn"),_=t("xoVG"),q=t("cGva"),k=t("Ip0R"),z=i.ob({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--background:#ffffff}.card-class[_ngcontent-%COMP%]{margin:5px 0 0!important}.inner_div_history[_ngcontent-%COMP%]{margin-top:60px!important}.div_elipse_class[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.p_location[_ngcontent-%COMP%]{margin:0}"]],data:{}});function S(l){return i.Kb(0,[(l()(),i.qb(0,0,null,null,1,"ion-progress-bar",[["class","progress_bar"],["type","indeterminate"]],null,null,null,b.yb,b.F)),i.pb(1,49152,null,0,a.ab,[i.h,i.k,i.z],{type:[0,"type"]},null)],function(l,n){l(n,1,0,"indeterminate")},null)}function T(l){return i.Kb(0,[(l()(),i.qb(0,0,null,null,35,"ion-card",[["style","margin:0px 0px 5px 0;border-radius: 0px;"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.openBooking(l.context.$implicit.booking_id)&&i),i},b.ab,b.g)),i.pb(1,49152,null,0,a.o,[i.h,i.k,i.z],null,null),(l()(),i.qb(2,0,null,0,33,"ion-item",[["lines","none"]],null,null,null,b.sb,b.x)),i.pb(3,49152,null,0,a.J,[i.h,i.k,i.z],{lines:[0,"lines"]},null),(l()(),i.qb(4,0,null,0,31,"ion-label",[],null,null,null,b.tb,b.A)),i.pb(5,49152,null,0,a.P,[i.h,i.k,i.z],null,null),(l()(),i.qb(6,0,null,0,9,"div",[],null,null,null,null,null)),(l()(),i.qb(7,0,null,null,1,"ion-img",[["src","./assets/svg/my_ride.svg"],["style","width: 35px;float: left;margin-right: 10px;"]],null,null,null,b.mb,b.t)),i.pb(8,49152,null,0,a.F,[i.h,i.k,i.z],{src:[0,"src"]},null),(l()(),i.qb(9,0,null,null,1,"h2",[["style","font-size: 14px;float: left;"]],null,null,null,null,null)),(l()(),i.Ib(10,null,["","\xa0,\xa0",""])),(l()(),i.qb(11,0,null,null,4,"h2",[["style","font-size: 14px;float: right;"]],null,null,null,null,null)),(l()(),i.qb(12,0,null,null,2,"fa-icon",[["class","ng-fa-icon"],["style","opacity: 0.6;font-size: 13px;\n                margin-right: 2px;"]],[[8,"innerHTML",1]],null,null,g.b,g.a)),i.pb(13,573440,null,0,f.a,[h.c,f.b],{iconProp:[0,"iconProp"]},null),i.Bb(14,2),(l()(),i.Ib(15,null,["",""])),(l()(),i.qb(16,0,null,0,1,"h6",[["style","clear: both;margin-left: 46px;font-size: 12px;"]],null,null,null,null,null)),(l()(),i.Ib(17,null,[""," \xa0 ",""])),(l()(),i.qb(18,0,null,0,17,"div",[],null,null,null,null,null)),(l()(),i.qb(19,0,null,null,12,"div",[["style","margin-left: 44px;float: left;width: 70%;"]],null,null,null,null,null)),(l()(),i.qb(20,0,null,null,4,"div",[["class","div_elipse_class"],["style","margin-top: 10px;"]],null,null,null,null,null)),(l()(),i.qb(21,0,null,null,1,"ion-icon",[["color","success"],["name","locate"],["style","font-size: 16px;float: left;"]],null,null,null,b.lb,b.s)),i.pb(22,49152,null,0,a.E,[i.h,i.k,i.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),i.qb(23,0,null,null,1,"p",[["style","margin:0px;opacity: 0.7;font-size: 13px;"]],null,null,null,null,null)),(l()(),i.Ib(24,null,["\xa0",""])),(l()(),i.qb(25,0,null,null,1,"ion-icon",[["name","more"],["style","opacity: 0.5;"]],null,null,null,b.lb,b.s)),i.pb(26,49152,null,0,a.E,[i.h,i.k,i.z],{name:[0,"name"]},null),(l()(),i.qb(27,0,null,null,4,"div",[["class","div_elipse_class"]],null,null,null,null,null)),(l()(),i.qb(28,0,null,null,1,"ion-icon",[["color","danger"],["name","locate"],["style","font-size: 16px;float: left;"]],null,null,null,b.lb,b.s)),i.pb(29,49152,null,0,a.E,[i.h,i.k,i.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),i.qb(30,0,null,null,1,"p",[["style","margin:0px;opacity: 0.7;font-size: 13px;"]],null,null,null,null,null)),(l()(),i.Ib(31,null,["\xa0",""])),(l()(),i.qb(32,0,null,null,3,"div",[["style","float: right;"]],null,null,null,null,null)),(l()(),i.qb(33,0,null,null,2,"ion-avatar",[["slot","start"],["style","height: 50px;width: 50px;margin-top: 10px;"]],null,null,null,b.U,b.b)),i.pb(34,49152,null,0,a.h,[i.h,i.k,i.z],null,null),(l()(),i.qb(35,0,null,0,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],function(l,n){l(n,3,0,"none"),l(n,8,0,"./assets/svg/my_ride.svg");var t=l(n,14,0,"fas","rupee-sign");l(n,13,0,t),l(n,22,0,"success","locate"),l(n,26,0,"more"),l(n,29,0,"danger","locate")},function(l,n){l(n,10,0,n.context.$implicit.booking_date,n.context.$implicit.booking_time),l(n,12,0,i.Ab(n,13).renderedIconHTML),l(n,15,0,n.context.$implicit.paid_amount),l(n,17,0,n.context.$implicit.car_name,n.context.$implicit.car_no),l(n,24,0,n.context.$implicit.stoppage_start),l(n,31,0,n.context.$implicit.stoppage_end),l(n,35,0,i.sb(1,"",n.context.$implicit.driver_photo,""))})}function w(l){return i.Kb(0,[(l()(),i.qb(0,0,null,null,1,"app-header",[],null,null,null,m.b,m.a)),i.pb(1,114688,null,0,d.a,[y.m,a.f,x.b,v.a,_.a,e.a,o.a,q.a],null,null),(l()(),i.hb(16777216,null,null,1,null,S)),i.pb(3,16384,null,0,k.j,[i.P,i.L],{ngIf:[0,"ngIf"]},null),(l()(),i.qb(4,0,null,null,13,"ion-content",[],null,null,null,b.db,b.k)),i.pb(5,49152,null,0,a.w,[i.h,i.k,i.z],null,null),(l()(),i.qb(6,0,null,0,11,"div",[],null,null,null,null,null)),(l()(),i.qb(7,0,null,null,6,"ion-virtual-scroll",[],null,null,null,b.Lb,b.S)),i.pb(8,835584,null,3,a.Eb,[i.z,i.s,i.k],{items:[0,"items"]},null),i.Gb(335544320,1,{itmTmp:0}),i.Gb(335544320,2,{hdrTmp:0}),i.Gb(335544320,3,{ftrTmp:0}),(l()(),i.hb(16777216,null,0,1,null,T)),i.pb(13,16384,[[1,4]],0,a.Vb,[i.L,i.P],null,null),(l()(),i.qb(14,0,null,null,3,"ion-infinite-scroll",[["position","top"],["threshold","100px"]],null,[[null,"ionInfinite"]],function(l,n,t){var i=!0;return"ionInfinite"===n&&(i=!1!==l.component.loadData(t)&&i),i},b.ob,b.u)),i.pb(15,49152,null,0,a.G,[i.h,i.k,i.z],{position:[0,"position"],threshold:[1,"threshold"]},null),(l()(),i.qb(16,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,b.nb,b.v)),i.pb(17,49152,null,0,a.H,[i.h,i.k,i.z],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(l,n){var t=n.component;l(n,1,0),l(n,3,0,t.progress_bar),l(n,8,0,t.transactionList),l(n,15,0,"top","100px"),l(n,17,0,"bubbles","Loading more data...")},null)}function P(l){return i.Kb(0,[(l()(),i.qb(0,0,null,null,1,"app-booking-history",[],null,null,null,w,z)),i.pb(1,114688,null,0,s,[x.b,u.a,o.a,e.a,a.a,r.a,y.m],null,null)],function(l,n){l(n,1,0)},null)}var I=i.mb("app-booking-history",s,P,{},{},[]),C=t("gIcY"),H=t("qxEu");t.d(n,"BookingHistoryPageModuleNgFactory",function(){return O});var O=i.nb(c,[],function(l){return i.xb([i.yb(512,i.j,i.cb,[[8,[p.a,I]],[3,i.j],i.x]),i.yb(4608,k.l,k.k,[i.u,[2,k.u]]),i.yb(4608,C.t,C.t,[]),i.yb(4608,a.c,a.c,[i.z,i.g]),i.yb(4608,a.Jb,a.Jb,[a.c,i.j,i.q]),i.yb(4608,a.Ob,a.Ob,[a.c,i.j,i.q]),i.yb(1073742336,k.b,k.b,[]),i.yb(1073742336,C.r,C.r,[]),i.yb(1073742336,C.e,C.e,[]),i.yb(1073742336,a.Fb,a.Fb,[]),i.yb(1073742336,y.q,y.q,[[2,y.w],[2,y.m]]),i.yb(1073742336,f.f,f.f,[]),i.yb(1073742336,H.a,H.a,[]),i.yb(1073742336,c,c,[]),i.yb(1024,y.k,function(){return[[{path:"",component:s}]]},[])])})}}]);