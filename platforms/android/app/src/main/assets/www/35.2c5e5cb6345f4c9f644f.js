(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{tNds:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=e("ZZ/e"),i=e("Ht5U"),u=e("WTUP"),a=e("ZgVV"),r=function(){function l(l,n,e,t,o,i){var u=this;this.payment_details_event=l,this.router=n,this.toasterService=e,this.officePoolCarService=t,this.loadingService=o,this.storage=i,this.net_connection_check=!1,this.seats_no=[],this.refer_code="",this.progress_bar=!1,this.progress_bar=!0,this.storage.get("USER_INFO").then(function(l){u.userId=l.id,u.userName=l.name,u.userEmail=l.email,u.userPhone=l.mobile,u.refer_code=l.referral_no,u.generate_link="https://google.com/"+u.refer_code,u.getBalance("wallet_balance"),u.getBalance("referral_balance")}),this.storage.get("bookingDetails").then(function(l){u.payableFare=l.total_fare_details.payable_fare,u.booking_details=l})}return l.prototype.ngOnInit=function(){var l=this;this.payment_details_event.subscribe("check_net_connection",function(n){"connect"==n&&(l.net_connection_check=!1),"disconnect"==n&&(l.net_connection_check=!0)})},l.prototype.buyCreditPoints=function(){this.router.navigateByUrl("myaccount/wallet")},l.prototype.referFriends=function(){this.router.navigateByUrl("myaccount/refer-earn")},l.prototype.getBalance=function(l){var n=this;this.officePoolCarService.payThroughWalletService({type:l,user_id:this.userId}).subscribe(function(e){"wallet_balance"==l&&(n.wallet_balance=e.result.current_wallet_balance,n.progress_bar=!1),"referral_balance"==l&&(n.referral_balance=e.result.referral_balance,n.progress_bar=!1)},function(l){n.progress_bar=!1,n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.payThroughWallet=function(){var l=this;this.loadingService.present(),this.officePoolCarService.payThroughWalletService({type:"wallet_pay",user_id:this.userId,booking_details:this.booking_details,status:2}).subscribe(function(n){l.storage.set("transactionDetails",n.result),l.storage.remove("bookingDetails"),l.storage.remove("route_search_parameters"),l.loadingService.dismiss(),l.router.navigateByUrl("booking-thankyou")},function(n){console.log("error::::"+n.error),l.loadingService.dismiss(),l.toasterService.showToast(n.error.msg,3e3)})},l.prototype.payDirect=function(){var l=this;console.log("sdsdsd");var n={description:"Credits towards consultation",currency:"INR",key:"rzp_test_5oKpHg5DYNOtKG",amount:100*parseFloat(this.payableFare),name:this.userName,prefill:{email:this.userEmail,contact:this.userPhone,name:this.userName},theme:{color:"#F37254"},modal:{ondismiss:function(){console.log("dismissed")}}};RazorpayCheckout.open(n,function(n){l.savePaymentData({type:"direct_pay",user_id:l.userId,booking_details:l.booking_details,status:2,rz_status:"success",rz_txn_no:n})},function(n){console.log(n.description+" (Error "+n.code+")"),l.savePaymentData({type:"direct_pay",user_id:l.userId,amount:0,rz_txn_no:"CANCEL",booking_details:l.booking_details,rz_status:"failure"},"3")})},l.prototype.savePaymentData=function(l,n){var e=this;void 0===n&&(n=""),this.loadingService.present(),this.officePoolCarService.payThroughWalletService(l).subscribe(function(l){"3"==n?e.toasterService.showToast("Your transaction has been cancelled",2e3):(e.storage.set("transactionDetails",l.result),e.storage.remove("bookingDetails"),e.storage.remove("route_search_parameters"),setTimeout(function(){this.loadingService.dismiss(),this.router.navigateByUrl("booking-thankyou")},1e3))},function(l){e.loadingService.dismiss(),e.toasterService.showToast(l.error.msg,2e3)})},l}(),s=function(){return function(){}}(),c=e("pMnS"),b=e("oBZk"),p=e("jWFl"),d=e("OOyK"),g=e("ZYCi"),f=e("iw74"),h=e("jKJn"),y=e("xoVG"),m=e("cGva"),_=e("Ip0R"),v=e("fNgX"),z=e("Hf/j"),k=e("ZYjt"),q=t.ob({encapsulation:0,styles:[["ion-title[_ngcontent-%COMP%]{font-size:14px;font-weight:400;padding-left:0}.inner_div[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px;margin-top:30px}.amount_cs[_ngcontent-%COMP%]{display:inline-block;font-size:40px;position:relative;top:8px;margin:0 0 30px}"]],data:{}});function x(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,1,"ion-progress-bar",[["class","progress_bar"],["type","indeterminate"]],null,null,null,b.yb,b.F)),t.pb(1,49152,null,0,o.ab,[t.h,t.k,t.z],{type:[0,"type"]},null)],function(l,n){l(n,1,0,"indeterminate")},null)}function P(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,1,"app-header",[],null,null,null,p.b,p.a)),t.pb(1,114688,null,0,d.a,[g.m,o.f,f.b,h.a,y.a,i.a,a.a,m.a],null,null),(l()(),t.hb(16777216,null,null,1,null,x)),t.pb(3,16384,null,0,_.j,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(4,0,null,null,66,"ion-content",[],null,null,null,b.db,b.k)),t.pb(5,49152,null,0,o.w,[t.h,t.k,t.z],null,null),(l()(),t.qb(6,0,null,0,64,"div",[["class","inner_div"]],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,13,"ion-toolbar",[["class","toolbar-class"]],null,null,null,b.Kb,b.R)),t.pb(8,49152,null,0,o.Db,[t.h,t.k,t.z],null,null),(l()(),t.qb(9,0,null,0,8,"ion-title",[["class","toolbar-class"],["slot","start"]],null,null,null,b.Ib,b.P)),t.pb(10,49152,null,0,o.Bb,[t.h,t.k,t.z],null,null),(l()(),t.qb(11,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Credit Point Balance"])),(l()(),t.qb(13,0,null,0,4,"p",[],null,null,null,null,null)),(l()(),t.qb(14,0,null,null,2,"fa-icon",[["class","rstar-icon ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,v.b,v.a)),t.pb(15,573440,null,0,z.a,[k.c,z.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),t.Bb(16,2),(l()(),t.Ib(17,null,[" ",""])),(l()(),t.qb(18,0,null,0,2,"ion-button",[["class","ion-margin-top"],["color","danger"],["size","default"],["style","margin-top: 0px;border-radius:0px;font-size: 12px;padding: 0px;"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.buyCreditPoints()&&t),t},b.X,b.e)),t.pb(19,49152,null,0,o.m,[t.h,t.k,t.z],{color:[0,"color"],disabled:[1,"disabled"],size:[2,"size"],type:[3,"type"]},null),(l()(),t.Ib(-1,0,[" Buy Credit Points "])),(l()(),t.qb(21,0,null,null,1,"ion-item-divider",[],null,null,null,b.qb,b.y)),t.pb(22,49152,null,0,o.K,[t.h,t.k,t.z],null,null),(l()(),t.qb(23,0,null,null,13,"ion-toolbar",[["class","toolbar-class"],["style","margin-top: 20px;"]],null,null,null,b.Kb,b.R)),t.pb(24,49152,null,0,o.Db,[t.h,t.k,t.z],null,null),(l()(),t.qb(25,0,null,0,8,"ion-title",[["class","toolbar-class"],["slot","start"]],null,null,null,b.Ib,b.P)),t.pb(26,49152,null,0,o.Bb,[t.h,t.k,t.z],null,null),(l()(),t.qb(27,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Referral Point Balance"])),(l()(),t.qb(29,0,null,0,4,"p",[],null,null,null,null,null)),(l()(),t.qb(30,0,null,null,2,"fa-icon",[["class","rstar-icon ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,v.b,v.a)),t.pb(31,573440,null,0,z.a,[k.c,z.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),t.Bb(32,2),(l()(),t.Ib(33,null,[" ",""])),(l()(),t.qb(34,0,null,0,2,"ion-button",[["class","ion-margin-top"],["color","tertiary"],["size","default"],["style","margin-top: 0px;border-radius:0px;font-size: 12px;width:150px;padding: 0px;"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.referFriends()&&t),t},b.X,b.e)),t.pb(35,49152,null,0,o.m,[t.h,t.k,t.z],{color:[0,"color"],disabled:[1,"disabled"],size:[2,"size"],type:[3,"type"]},null),(l()(),t.Ib(-1,0,[" Refer Friends "])),(l()(),t.qb(37,0,null,null,1,"ion-item-divider",[],null,null,null,b.qb,b.y)),t.pb(38,49152,null,0,o.K,[t.h,t.k,t.z],null,null),(l()(),t.qb(39,0,null,null,31,"div",[["style","text-align: center;margin-top: 30px;"]],null,null,null,null,null)),(l()(),t.qb(40,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Total Amount"])),(l()(),t.qb(42,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t.qb(43,0,null,null,2,"fa-icon",[["class","rstar-icon ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,v.b,v.a)),t.pb(44,573440,null,0,z.a,[k.c,z.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),t.Bb(45,2),(l()(),t.Ib(-1,null,["\xa0 "])),(l()(),t.qb(47,0,null,null,1,"p",[["class","amount_cs"]],null,null,null,null,null)),(l()(),t.Ib(48,null,["","/-"])),(l()(),t.qb(49,0,null,null,21,"ion-grid",[["no-margin",""],["no-padding",""]],null,null,null,b.jb,b.q)),t.pb(50,49152,null,0,o.C,[t.h,t.k,t.z],null,null),(l()(),t.qb(51,0,null,0,19,"ion-row",[["no-margin",""],["no-padding",""]],null,null,null,b.Bb,b.I)),t.pb(52,49152,null,0,o.kb,[t.h,t.k,t.z],null,null),(l()(),t.qb(53,0,null,0,7,"ion-col",[["size","4"]],null,null,null,b.cb,b.j)),t.pb(54,49152,null,0,o.v,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.qb(55,0,null,0,5,"ion-button",[["size","default"],["style","margin-top: 0px;border-radius:0px;font-size: 12px;padding: 0px;--background: linear-gradient(45deg, #02A1EB 0%, #0A5999 100%);"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.payDirect()&&t),t},b.X,b.e)),t.pb(56,49152,null,0,o.m,[t.h,t.k,t.z],{disabled:[0,"disabled"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.qb(57,0,null,0,2,"fa-icon",[["class","rstar-icon ng-fa-icon"],["size","1x"]],[[8,"innerHTML",1]],null,null,v.b,v.a)),t.pb(58,573440,null,0,z.a,[k.c,z.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),t.Bb(59,2),(l()(),t.Ib(-1,0,["\xa0 PAY DIRECT "])),(l()(),t.qb(61,0,null,0,2,"ion-col",[["size","1"]],null,null,null,b.cb,b.j)),t.pb(62,49152,null,0,o.v,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.Ib(-1,0,["\xa0"])),(l()(),t.qb(64,0,null,0,6,"ion-col",[["size","6"]],null,null,null,b.cb,b.j)),t.pb(65,49152,null,0,o.v,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.qb(66,0,null,0,4,"ion-button",[["size","default"],["style","margin-top: 0px;border-radius:0px;font-size: 12px;padding: 0px;--background: linear-gradient(45deg, #0A5999 0%, #02A1EB 100%);"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.payThroughWallet()&&t),t},b.X,b.e)),t.pb(67,49152,null,0,o.m,[t.h,t.k,t.z],{disabled:[0,"disabled"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.qb(68,0,null,0,1,"ion-icon",[["name","ios-wallet"]],null,null,null,b.lb,b.s)),t.pb(69,49152,null,0,o.E,[t.h,t.k,t.z],{name:[0,"name"]},null),(l()(),t.Ib(-1,0,[" \xa0PAY THROUGH WALLET "]))],function(l,n){var e=n.component;l(n,1,0),l(n,3,0,e.progress_bar);var t=l(n,16,0,"fas","rupee-sign");l(n,15,0,t,"1x"),l(n,19,0,"danger",e.net_connection_check,"default","button");var o=l(n,32,0,"fas","rupee-sign");l(n,31,0,o,"1x"),l(n,35,0,"tertiary",e.net_connection_check,"default","button");var i=l(n,45,0,"fas","rupee-sign");l(n,44,0,i,"1x"),l(n,54,0,"4"),l(n,56,0,e.net_connection_check,"default","button");var u=l(n,59,0,"fas","money-bill-alt");l(n,58,0,u,"1x"),l(n,62,0,"1"),l(n,65,0,"6"),l(n,67,0,e.net_connection_check,"default","button"),l(n,69,0,"ios-wallet")},function(l,n){var e=n.component;l(n,14,0,t.Ab(n,15).renderedIconHTML),l(n,17,0,e.wallet_balance),l(n,30,0,t.Ab(n,31).renderedIconHTML),l(n,33,0,e.referral_balance),l(n,43,0,t.Ab(n,44).renderedIconHTML),l(n,48,0,e.payableFare),l(n,57,0,t.Ab(n,58).renderedIconHTML)})}function I(l){return t.Kb(0,[(l()(),t.qb(0,0,null,null,1,"app-payment-details",[],null,null,null,P,q)),t.pb(1,114688,null,0,r,[o.f,g.m,a.a,i.a,u.a,f.b],null,null)],function(l,n){l(n,1,0)},null)}var w=t.mb("app-payment-details",r,I,{},{},[]),T=e("gIcY"),S=e("qxEu");e.d(n,"PaymentDetailsPageModuleNgFactory",function(){return B});var B=t.nb(s,[],function(l){return t.xb([t.yb(512,t.j,t.cb,[[8,[c.a,w]],[3,t.j],t.x]),t.yb(4608,_.l,_.k,[t.u,[2,_.u]]),t.yb(4608,T.t,T.t,[]),t.yb(4608,o.c,o.c,[t.z,t.g]),t.yb(4608,o.Jb,o.Jb,[o.c,t.j,t.q]),t.yb(4608,o.Ob,o.Ob,[o.c,t.j,t.q]),t.yb(1073742336,_.b,_.b,[]),t.yb(1073742336,T.r,T.r,[]),t.yb(1073742336,T.e,T.e,[]),t.yb(1073742336,o.Fb,o.Fb,[]),t.yb(1073742336,g.q,g.q,[[2,g.w],[2,g.m]]),t.yb(1073742336,z.f,z.f,[]),t.yb(1073742336,S.a,S.a,[]),t.yb(1073742336,s,s,[]),t.yb(1024,g.k,function(){return[[{path:"",component:r}]]},[])])})}}]);