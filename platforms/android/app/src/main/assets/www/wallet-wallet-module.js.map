{"version":3,"sources":["webpack:///./src/app/layout/myaccount/wallet/wallet.module.ts","webpack:///./src/app/layout/myaccount/wallet/wallet.page.html","webpack:///./src/app/layout/myaccount/wallet/wallet.page.scss","webpack:///./src/app/layout/myaccount/wallet/wallet.page.ts"],"names":[],"mappings":"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","file":"wallet-wallet-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ComponentsModule } from \"../../../core/components/components.module\";\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WalletPage } from './wallet.page';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WalletPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule,\n    FontAwesomeModule,\n    ReactiveFormsModule\n  ],\n  declarations: [WalletPage]\n})\nexport class WalletPageModule { }\n","module.exports = \"<app-header></app-header>\\n<div slot=\\\"fixed\\\">\\n    <ion-progress-bar type=\\\"indeterminate\\\" class=\\\"progress_bar\\\" *ngIf=\\\"progress_bar\\\"></ion-progress-bar>\\n    <div class=\\\"inner_div\\\">\\n    <p class=\\\"no_margin_p\\\">Add Money To</p>\\n    <ion-toolbar>\\n        <h3>Your Wallet</h3>\\n        <ion-img src=\\\"./assets/svg/my_wallet.svg\\\" style=\\\"width: 40px;\\\" slot=\\\"end\\\"></ion-img>\\n        \\n    </ion-toolbar>\\n    <p class=\\\"no_margin_p\\\">Available Balance &nbsp;&nbsp;<fa-icon [icon]=\\\"['fas','rupee-sign']\\\" size=\\\"1x\\\" class=\\\"rstar-icon\\\"></fa-icon> {{walletAmount ? walletAmount: '0.00'}}</p>\\n    <form [formGroup]=\\\"form\\\"  novalidate>\\n        <ion-item lines=\\\"full\\\">\\n            <ion-input autofocus=\\\"on\\\" type=\\\"number\\\" formControlName=\\\"amount\\\" maxlength=\\\"10\\\" clearInput=\\\"true\\\" inputmode=\\\"number\\\" required=\\\"true\\\" style=\\\"font-size: 30px;\\\" placeholder=\\\"Amount\\\"></ion-input>\\n            <fa-icon [icon]=\\\"['fas','rupee-sign']\\\" size=\\\"2x\\\" slot=\\\"start\\\" class=\\\"rupee_sign\\\"></fa-icon> \\n        </ion-item>\\n        <ion-button class=\\\"ion-margin-top\\\"  size=\\\"large\\\" type=\\\"button\\\" [disabled]=\\\"form.invalid || net_connection_check\\\" expand=\\\"full\\\" (click)=\\\"addMoneyToWallet()\\\">\\n            Proceed To Add Money \\n            <ion-icon name=\\\"arrow-round-forward\\\"></ion-icon>\\n        </ion-button>\\n    </form>\\n    </div>\\n<hr class=\\\"hr_1\\\"> \\n<hr class=\\\"hr_2\\\">   \\n</div>\\n<ion-content>\\n    <div class=\\\" inner_div_1\\\">\\n        <ion-toolbar>\\n            <p class=\\\"no_margin_p\\\" slot=\\\"start\\\">Recent Transactions</p>\\n            <ion-chip slot=\\\"end\\\" color=\\\"tertiary\\\" outline=\\\"true\\\" (click)=\\\"filterTransactions()\\\">Filter<ion-icon name=\\\"ios-options\\\" ></ion-icon></ion-chip>\\n        </ion-toolbar>\\n    </div>\\n    <ion-text>\\n            <p *ngIf=\\\"transactionList.length==0\\\" padding>No Transaction History Found</p>\\n    </ion-text>\\n    <ion-virtual-scroll [items]=\\\"transactionList\\\">\\n        \\n        <div *virtualItem=\\\"let item\\\">\\n            <p style=\\\"margin: 15px 0px 15px 15px;\\\">{{item.trans_date}}</p>\\n            <ion-card no-padding no-margin>\\n                <ion-grid no-margin no-padding>\\n                    <ion-row no-margin>\\n                      <ion-col>\\n                        <ion-toolbar>\\n                            <ion-img src=\\\"./assets/svg/my_wallet_blue.svg\\\" slot=\\\"start\\\"  class=\\\"icon-payment\\\" *ngIf=\\\"item.pay_for_no == '2'\\\" style=\\\"width: 48px;\\\"></ion-img>\\n                        \\n                        <fa-icon [icon]=\\\"['fas','bus']\\\" slot=\\\"start\\\" class=\\\"icon-payment\\\" *ngIf=\\\"item.pay_for_no == '1'\\\"></fa-icon>\\n\\n                        <ion-img src=\\\"./assets/svg/referal_blue.svg\\\" slot=\\\"start\\\"  class=\\\"\\\" *ngIf=\\\"item.pay_for_no == '3'\\\" style=\\\"width: 48px;\\\"></ion-img>\\n\\n                       \\n                        <p slot=\\\"start\\\" style=\\\"font-size:16px;margin:0px 0px 0px 10px;\\\">\\n                            {{item.pay_for}}\\n                            <span style=\\\"display: block;\\n                            opacity: 0.6;\\n                            font-size: 12px;\\\">\\n                                {{item.transaction_id}}\\n                            </span>\\n                        </p>\\n                        <p slot=\\\"end\\\" style=\\\"color: red;\\\" *ngIf=\\\"item.transaction_type=='Debit'\\\"> - <fa-icon [icon]=\\\"['fas','rupee-sign']\\\" size=\\\"1x\\\" class=\\\"\\\"></fa-icon> {{item.amount}}</p>\\n                        <p slot=\\\"end\\\" *ngIf=\\\"item.transaction_type=='Credit'\\\" style=\\\"color:green;\\\"> + <fa-icon [icon]=\\\"['fas','rupee-sign']\\\" size=\\\"1x\\\" class=\\\"\\\"></fa-icon> {{item.amount}}</p>\\n                    </ion-toolbar>\\n                    <ion-toolbar style=\\\"--min-height:45px;\\\">\\n                        <p slot=\\\"start\\\" style=\\\"margin: 0 0 0 60px;\\n                        opacity: 0.6;\\\">{{item.trans_time}}</p>\\n                        <p slot=\\\"end\\\" style=\\\"opacity: 0.6;\\\">Closing Balance : <fa-icon [icon]=\\\"['fas','rupee-sign']\\\" size=\\\"1x\\\" class=\\\"\\\"></fa-icon> {{item.closing_balance ? item.closing_balance : 0.00}}</p>\\n                    </ion-toolbar>\\n                </ion-col>\\n                </ion-row>\\n            </ion-grid>\\n            </ion-card>\\n        </div>\\n    </ion-virtual-scroll> \\n    <ion-infinite-scroll threshold=\\\"300px\\\" (ionInfinite)=\\\"loadData($event)\\\" position=\\\"bottom\\\">\\n        <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\"\\n          loadingText=\\\"Loading more data...\\\">\\n        </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\\n\"","module.exports = \"ion-item {\\n  --background: transparent; }\\n\\n.inner_div {\\n  margin-top: 15px;\\n  margin-bottom: 10px; }\\n\\n.inner_div_1 {\\n  margin-bottom: 0px;\\n  background-color: white;\\n  padding: 0 15px 0 15px; }\\n\\n.rupee_sign {\\n  margin-right: 10px;\\n  opacity: 0.2;\\n  margin-left: -13px; }\\n\\nion-input {\\n  --placeholder-opacity:0.3; }\\n\\nhr {\\n  border-width: 0px;\\n  margin: 0px; }\\n\\n.hr_1 {\\n  border-top: 4px solid #0d47a1; }\\n\\n.hr_2 {\\n  border-top: 2px solid #045ff6; }\\n\\nion-card {\\n  box-shadow: none !important; }\\n\\nion-toolbar {\\n  --background:transparent; }\\n\\n.icon-payment {\\n  font-size: 24px;\\n  display: block;\\n  border: 1px solid gray;\\n  border-radius: 35px;\\n  padding: 8px;\\n  color: #0d47a1;\\n  margin-top: 10px; }\\n\\nion-col {\\n  padding: 0 15px 0px 15px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3ByaXlhbS9Eb2N1bWVudHMvUmVkeVJpZGVyL3NyYy9hcHAvbGF5b3V0L215YWNjb3VudC93YWxsZXQvd2FsbGV0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFhLEVBQUE7O0FBRWpCO0VBQ0ksZ0JBQWU7RUFDZixtQkFBa0IsRUFBQTs7QUFFckI7RUFDRyxrQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLHNCQUFzQixFQUFBOztBQUV6QjtFQUNHLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBRXJCO0VBQ0cseUJBQXNCLEVBQUE7O0FBRXpCO0VBQ0csaUJBQWlCO0VBQ2pCLFdBQVcsRUFBQTs7QUFFZjtFQUNJLDZCQUE2QixFQUFBOztBQUVqQztFQUNJLDZCQUE2QixFQUFBOztBQUVqQztFQUNJLDJCQUEyQixFQUFBOztBQUUvQjtFQUNJLHdCQUFhLEVBQUE7O0FBR2pCO0VBQ0ksZUFBZTtFQUNmLGNBQWM7RUFDZCxzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixjQUFhO0VBQ2IsZ0JBQWdCLEVBQUE7O0FBRXBCO0VBQ0ksd0JBQXdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvbXlhY2NvdW50L3dhbGxldC93YWxsZXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW17XG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cbi5pbm5lcl9kaXZ7XG4gICAgbWFyZ2luLXRvcDoxNXB4O1xuICAgIG1hcmdpbi1ib3R0b206MTBweDtcbiB9XG4gLmlubmVyX2Rpdl8xe1xuICAgIG1hcmdpbi1ib3R0b206MHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIHBhZGRpbmc6IDAgMTVweCAwIDE1cHg7XG4gfVxuIC5ydXBlZV9zaWdue1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICBvcGFjaXR5OiAwLjI7XG4gICAgbWFyZ2luLWxlZnQ6IC0xM3B4O1xuIH1cbiBpb24taW5wdXR7XG4gICAgLS1wbGFjZWhvbGRlci1vcGFjaXR5OjAuMztcbiB9XG4gaHIgeyBcbiAgICBib3JkZXItd2lkdGg6IDBweDtcbiAgICBtYXJnaW46IDBweDtcbn1cbi5ocl8xe1xuICAgIGJvcmRlci10b3A6IDRweCBzb2xpZCAjMGQ0N2ExO1xufVxuLmhyXzJ7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICMwNDVmZjY7XG59XG5pb24tY2FyZHtcbiAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59XG5pb24tdG9vbGJhcntcbiAgICAtLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7XG5cbn1cbi5pY29uLXBheW1lbnR7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XG4gICAgYm9yZGVyLXJhZGl1czogMzVweDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgY29sb3I6IzBkNDdhMTtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuaW9uLWNvbHtcbiAgICBwYWRkaW5nOiAwIDE1cHggMHB4IDE1cHg7XG59XG5cbiBcbiAiXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { Events } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { OfficePoolCarService } from '../../../core/services/office-pool-car.service';\nimport { LoadingService } from '../../../core/services/loading.service';\nimport { ToasterService } from '../../../core/services/toaster.service';\nimport { ActionSheetController } from '@ionic/angular';\ndeclare var RazorpayCheckout: any;\n\n\n@Component({\n  selector: 'app-wallet',\n  templateUrl: './wallet.page.html',\n  styleUrls: ['./wallet.page.scss'],\n})\nexport class WalletPage implements OnInit {\n  actionSheet: any;\n  toggle_check: boolean;\n  form: FormGroup;\n  net_connection_check: boolean = false;\n  userId: string;\n  userName: string;\n  userPhone: string;\n  userEmail: string;\n  page = 1;\n  maximumPages = 10;\n  walletAmount: string;\n  transactionList = [];\n  filter: string;\n  progress_bar: boolean = false;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public wallet_event: Events,\n    private toasterService: ToasterService,\n    private officePoolCarService: OfficePoolCarService,\n    private loadingService: LoadingService,\n    public storage: Storage,\n    public actionSheetController: ActionSheetController\n  ) {\n    this.storage.get('USER_INFO').then((val) => {\n      //console.log('USER_INFO', val);\n      this.userId = val['id'];\n      this.userName = val['name'];\n      this.userEmail = val['email'];\n      this.userPhone = val['mobile'];\n      this.getTransactionHistory();\n\n    });\n  }\n  ngOnInit() {\n    this.wallet_event.subscribe('check_net_connection', (data) => {\n      if (data == 'connect') this.net_connection_check = false;\n      if (data == 'disconnect') this.net_connection_check = true;\n    });\n    this.form = this.formBuilder.group({\n      amount: ['', Validators.required]\n    });\n  }\n  getTransactionHistory(event?) {\n    this.progress_bar = true;\n    let request_data = {\n      \"type\": \"wallet\",\n      \"user_id\": this.userId,\n      \"filter_by\": this.filter,\n      \"page\": this.page,\n      \"count\": 3,\n\n    };\n    this.officePoolCarService.payThroughWalletService(request_data).subscribe(\n      res => {\n        this.walletAmount = res.result['current_wallet_balance'];\n        console.log('this.transactionList', res.result['payment_history'].length);\n        if (res.result['payment_history'].length == 0) {\n          this.transactionList = res.result['payment_history'];\n        } else {\n          this.transactionList = this.transactionList.concat(res.result['payment_history']);\n        }\n\n        this.progress_bar = false;\n        if (event) {\n          event.target.complete();\n        }\n      },\n      error => {\n        //console.log(\"error::::\" + error.error.msg);\n        this.progress_bar = false;\n        this.toasterService.showToast(error.error.msg, 2000)\n      }\n    );\n  }\n  loadData(event) {\n    this.page++;\n    this.getTransactionHistory(event);\n    if (this.page === this.maximumPages) {\n      event.target.disabled = true;\n    }\n  }\n  addMoneyToWallet() {\n    var options = {\n      description: 'Credits towards consultation',\n      // image: 'https://i.imgur.com/3g7nmJC.png',\n      currency: 'INR',\n      key: 'rzp_test_5oKpHg5DYNOtKG',\n      amount: this.form.value.amount,\n      name: this.userName,\n      prefill: {\n        email: this.userEmail,\n        contact: this.userPhone,\n        name: this.userName\n      },\n      theme: {\n        color: '#F37254'\n      },\n      modal: {\n        ondismiss: function () {\n          console.log('dismissed')\n        }\n      }\n    };\n    var successCallback = (payment_id) => {\n      //alert('payment_id: ' + payment_id);\n      let request_data = {\n        \"type\": \"add_to_wallet\",\n        \"user_id\": this.userId,\n        \"amount\": options.amount,\n        \"transaction_no\": payment_id,\n        \"referal_coupon_code_id\": \"0\",\n        \"recharge_by\": \"razorpay\",\n        \"status\": '1'\n      };\n      //alert('request_data' + request_data)\n      this.addToWallet(request_data);\n    };\n    var cancelCallback = (error) => {\n      console.log(error.description + ' (Error ' + error.code + ')');\n      let request_data = {\n        \"type\": \"add_to_wallet\",\n        \"user_id\": this.userId,\n        \"amount\": 0.00,\n        \"transaction_no\": 'CANCEL',\n        \"referal_coupon_code_id\": \"0\",\n        \"recharge_by\": \"razorpay\",\n        \"status\": '3'\n      };\n      //alert('request_data' + request_data)\n      this.addToWallet(request_data, '3');\n    };\n    RazorpayCheckout.open(options, successCallback, cancelCallback);\n  }\n  addToWallet(request_data: any, status = '') {\n    this.officePoolCarService.payThroughWalletService(request_data).subscribe(\n      res => {\n        //alert('result' + res.result);\n        this.getTransactionHistory();\n        if (status == '3')\n          this.toasterService.showToast('Your transaction has been cancelled', 2000);\n        else\n          this.toasterService.showToast('Your amound has been added to your wallet', 2000);\n        this.loadingService.dismiss();\n      },\n      error => {\n        //console.log(\"error::::\" + error.error.msg);\n        this.loadingService.dismiss();\n        this.toasterService.showToast(error.error.msg, 2000)\n      }\n    );\n  }\n  filterTransactions() {\n    this.actionSheet = this.actionSheetController.create({\n      header: 'Filter Transactions',\n      buttons: [\n        {\n          text: 'All',\n          handler: () => {\n            this.filter = '';\n            this.getTransactionHistory();\n          }\n        },\n        {\n          text: 'Paid',\n          handler: () => {\n            this.filter = '2';\n            this.getTransactionHistory();\n          }\n        }, {\n          text: 'Add',\n          handler: () => {\n            this.filter = '1';\n            this.getTransactionHistory();\n          }\n        }, {\n          text: 'Cancelled',\n          handler: () => {\n            this.filter = '3';\n            this.getTransactionHistory();\n          }\n        }]\n    }).then(actionsheet => {\n      actionsheet.present();\n    });\n\n  }\n\n}\n"],"sourceRoot":""}