(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{GSnO:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),i=t("S0jo"),o=t("ZgVV"),e=t("Ht5U"),r=t("ZZ/e"),a=t("WTUP"),s=function(){function l(l,n,t,u,i,o,e){this.storage=l,this.modalService=n,this.toasterService=t,this.officePoolCarService=u,this.actionSheetController=i,this.loadingService=o,this.router=e,this.page=1,this.maximumPages=10,this.transactionList=[],this.progress_bar=!1}return l.prototype.ngOnInit=function(){var l=this;this.storage.get("USER_INFO").then(function(n){l.userId=n.id,l.getTransactionHistory()})},l.prototype.filterTransactions=function(){var l=this;this.actionSheet=this.actionSheetController.create({header:"Filter Transactions",buttons:[{text:"All",handler:function(){l.filter="",l.getTransactionHistory()}},{text:"Paid",handler:function(){l.filter="2",l.getTransactionHistory()}},{text:"Cancelled",handler:function(){l.filter="3",l.getTransactionHistory()}}]}).then(function(l){l.present()})},l.prototype.getTransactionHistory=function(l){var n=this;this.progress_bar=!0,this.officePoolCarService.applyCouponService({type:"booking_list",user_id:this.userId,filter_by:this.filter,page:this.page,count:3}).subscribe(function(t){n.transactionList=0==t.result.length?t.result:n.transactionList.concat(t.result),n.progress_bar=!1,l&&l.target.complete()},function(l){n.progress_bar=!1,n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.loadData=function(l){this.page++,this.getTransactionHistory(l),this.page===this.maximumPages&&(l.target.disabled=!0)},l.prototype.openBooking=function(l){this.router.navigateByUrl("myaccount/booking-history-details/"+l)},l}(),c=function(){return function(){}}(),b=t("pMnS"),p=t("oBZk"),g=t("fNgX"),f=t("Hf/j"),h=t("ZYjt"),m=t("jWFl"),d=t("OOyK"),y=t("ZYCi"),x=t("iw74"),k=t("jKJn"),q=t("xoVG"),v=t("cGva"),_=t("Ip0R"),z=u.ob({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--background:#ffffff}.card-class[_ngcontent-%COMP%]{margin:5px 0 0!important}.inner_div_history[_ngcontent-%COMP%]{margin-top:60px!important}.div_elipse_class[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]],data:{}});function T(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"ion-progress-bar",[["class","progress_bar"],["type","indeterminate"]],null,null,null,p.wb,p.E)),u.pb(1,49152,null,0,r.ab,[u.h,u.k,u.z],{type:[0,"type"]},null)],function(l,n){l(n,1,0,"indeterminate")},null)}function w(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,30,"ion-card",[["style","margin:0px 0px 5px 0;border-radius: 0px;"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openBooking(l.context.$implicit.booking_id)&&u),u},p.Y,p.f)),u.pb(1,49152,null,0,r.o,[u.h,u.k,u.z],null,null),(l()(),u.qb(2,0,null,0,28,"ion-item",[["lines","none"]],null,null,null,p.qb,p.w)),u.pb(3,49152,null,0,r.J,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(l()(),u.qb(4,0,null,0,26,"ion-label",[],null,null,null,p.rb,p.z)),u.pb(5,49152,null,0,r.P,[u.h,u.k,u.z],null,null),(l()(),u.qb(6,0,null,0,9,"div",[],null,null,null,null,null)),(l()(),u.qb(7,0,null,null,1,"ion-img",[["src","./assets/svg/my_ride.svg"],["style","width: 35px;float: left;margin-right: 10px;"]],null,null,null,p.kb,p.s)),u.pb(8,49152,null,0,r.F,[u.h,u.k,u.z],{src:[0,"src"]},null),(l()(),u.qb(9,0,null,null,1,"h2",[["style","font-size: 14px;float: left;"]],null,null,null,null,null)),(l()(),u.Gb(10,null,["","\xa0,\xa0",""])),(l()(),u.qb(11,0,null,null,4,"h2",[["style","font-size: 14px;float: right;"]],null,null,null,null,null)),(l()(),u.qb(12,0,null,null,2,"fa-icon",[["class","ng-fa-icon"],["style","opacity: 0.6;font-size: 13px;\n                margin-right: 2px;"]],[[8,"innerHTML",1]],null,null,g.b,g.a)),u.pb(13,573440,null,0,f.a,[h.c,f.b],{iconProp:[0,"iconProp"]},null),u.Bb(14,2),(l()(),u.Gb(15,null,["",""])),(l()(),u.qb(16,0,null,0,1,"h6",[["style","clear: both;margin-left: 46px;font-size: 12px;"]],null,null,null,null,null)),(l()(),u.Gb(17,null,[""," \xa0 ",""])),(l()(),u.qb(18,0,null,0,12,"div",[["style","margin-left: 44px;"]],null,null,null,null,null)),(l()(),u.qb(19,0,null,null,4,"div",[["class","div_elipse_class"],["style","margin-top: 10px;"]],null,null,null,null,null)),(l()(),u.qb(20,0,null,null,1,"ion-icon",[["color","success"],["name","locate"],["style","font-size: 16px;float: left;"]],null,null,null,p.jb,p.r)),u.pb(21,49152,null,0,r.E,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.qb(22,0,null,null,1,"p",[["style","margin:0px;opacity: 0.7;font-size: 13px;"]],null,null,null,null,null)),(l()(),u.Gb(23,null,["\xa0",""])),(l()(),u.qb(24,0,null,null,1,"ion-icon",[["name","more"],["style","opacity: 0.5;"]],null,null,null,p.jb,p.r)),u.pb(25,49152,null,0,r.E,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.qb(26,0,null,null,4,"div",[["class","div_elipse_class"]],null,null,null,null,null)),(l()(),u.qb(27,0,null,null,1,"ion-icon",[["color","danger"],["name","locate"],["style","font-size: 16px;float: left;"]],null,null,null,p.jb,p.r)),u.pb(28,49152,null,0,r.E,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.qb(29,0,null,null,1,"p",[["style","margin:0px;opacity: 0.7;font-size: 13px;"]],null,null,null,null,null)),(l()(),u.Gb(30,null,["\xa0",""]))],function(l,n){l(n,3,0,"none"),l(n,8,0,"./assets/svg/my_ride.svg");var t=l(n,14,0,"fas","rupee-sign");l(n,13,0,t),l(n,21,0,"success","locate"),l(n,25,0,"more"),l(n,28,0,"danger","locate")},function(l,n){l(n,10,0,n.context.$implicit.booking_date,n.context.$implicit.booking_time),l(n,12,0,u.Ab(n,13).renderedIconHTML),l(n,15,0,n.context.$implicit.paid_amount),l(n,17,0,n.context.$implicit.car_name,n.context.$implicit.car_no),l(n,23,0,n.context.$implicit.stoppage_start),l(n,30,0,n.context.$implicit.stoppage_end)})}function S(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"app-header",[],null,null,null,m.b,m.a)),u.pb(1,114688,null,0,d.a,[y.m,r.f,x.b,k.a,q.a,e.a,o.a,v.a],null,null),(l()(),u.qb(2,0,null,null,27,"ion-content",[],null,null,null,p.bb,p.j)),u.pb(3,49152,null,0,r.w,[u.h,u.k,u.z],null,null),(l()(),u.qb(4,0,null,0,13,"div",[["slot","fixed"]],null,null,null,null,null)),(l()(),u.qb(5,0,null,null,12,"ion-card",[["style","margin: 0px;border-radius: 0px;"]],null,null,null,p.Y,p.f)),u.pb(6,49152,null,0,r.o,[u.h,u.k,u.z],null,null),(l()(),u.hb(16777216,null,0,1,null,T)),u.pb(8,16384,null,0,_.j,[u.P,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(9,0,null,0,8,"ion-item",[["lines","none"]],null,null,null,p.qb,p.w)),u.pb(10,49152,null,0,r.J,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(l()(),u.qb(11,0,null,0,1,"p",[["class","no_margin_p"],["slot","start"]],null,null,null,null,null)),(l()(),u.Gb(-1,null,["Recent Bookings"])),(l()(),u.qb(13,0,null,0,4,"ion-chip",[["color","tertiary"],["outline","true"],["slot","end"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.filterTransactions()&&u),u},p.Z,p.h)),u.pb(14,49152,null,0,r.u,[u.h,u.k,u.z],{color:[0,"color"],outline:[1,"outline"]},null),(l()(),u.Gb(-1,0,["Filter"])),(l()(),u.qb(16,0,null,0,1,"ion-icon",[["name","ios-options"]],null,null,null,p.jb,p.r)),u.pb(17,49152,null,0,r.E,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.qb(18,0,null,0,11,"div",[["style","margin-top: 60px;"]],null,null,null,null,null)),(l()(),u.qb(19,0,null,null,6,"ion-virtual-scroll",[],null,null,null,p.Jb,p.R)),u.pb(20,835584,null,3,r.Eb,[u.z,u.s,u.k],{items:[0,"items"]},null),u.Eb(335544320,1,{itmTmp:0}),u.Eb(335544320,2,{hdrTmp:0}),u.Eb(335544320,3,{ftrTmp:0}),(l()(),u.hb(16777216,null,0,1,null,w)),u.pb(25,16384,[[1,4]],0,r.Vb,[u.L,u.P],null,null),(l()(),u.qb(26,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(l,n,t){var u=!0;return"ionInfinite"===n&&(u=!1!==l.component.loadData(t)&&u),u},p.mb,p.t)),u.pb(27,49152,null,0,r.G,[u.h,u.k,u.z],{threshold:[0,"threshold"]},null),(l()(),u.qb(28,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,p.lb,p.u)),u.pb(29,49152,null,0,r.H,[u.h,u.k,u.z],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(l,n){var t=n.component;l(n,1,0),l(n,8,0,t.progress_bar),l(n,10,0,"none"),l(n,14,0,"tertiary","true"),l(n,17,0,"ios-options"),l(n,20,0,t.transactionList),l(n,27,0,"100px"),l(n,29,0,"bubbles","Loading more data...")},null)}function H(l){return u.Hb(0,[(l()(),u.qb(0,0,null,null,1,"app-booking-history",[],null,null,null,S,z)),u.pb(1,114688,null,0,s,[x.b,i.a,o.a,e.a,r.a,a.a,y.m],null,null)],function(l,n){l(n,1,0)},null)}var P=u.mb("app-booking-history",s,H,{},{},[]),j=t("gIcY"),C=t("qxEu");t.d(n,"BookingHistoryPageModuleNgFactory",function(){return G});var G=u.nb(c,[],function(l){return u.xb([u.yb(512,u.j,u.cb,[[8,[b.a,P]],[3,u.j],u.x]),u.yb(4608,_.l,_.k,[u.u,[2,_.t]]),u.yb(4608,j.t,j.t,[]),u.yb(4608,r.c,r.c,[u.z,u.g]),u.yb(4608,r.Jb,r.Jb,[r.c,u.j,u.q]),u.yb(4608,r.Ob,r.Ob,[r.c,u.j,u.q]),u.yb(1073742336,_.b,_.b,[]),u.yb(1073742336,j.r,j.r,[]),u.yb(1073742336,j.e,j.e,[]),u.yb(1073742336,r.Fb,r.Fb,[]),u.yb(1073742336,y.q,y.q,[[2,y.w],[2,y.m]]),u.yb(1073742336,f.f,f.f,[]),u.yb(1073742336,C.a,C.a,[]),u.yb(1073742336,c,c,[]),u.yb(1024,y.k,function(){return[[{path:"",component:s}]]},[])])})}}]);