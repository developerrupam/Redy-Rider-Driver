(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{GSnO:function(l,n,t){"use strict";t.r(n);var i=t("CcnG"),u=t("S0jo"),o=t("ZgVV"),e=t("Ht5U"),a=t("ZZ/e"),r=t("WTUP"),s=function(){function l(l,n,t,i,u,o,e){this.storage=l,this.modalService=n,this.toasterService=t,this.officePoolCarService=i,this.actionSheetController=u,this.loadingService=o,this.router=e,this.page=1,this.maximumPages=10,this.transactionList=[]}return l.prototype.ngOnInit=function(){var l=this;this.storage.get("USER_INFO").then(function(n){l.userId=n.id,l.getTransactionHistory()})},l.prototype.filterTransactions=function(){var l=this;this.actionSheet=this.actionSheetController.create({header:"Filter Transactions",buttons:[{text:"All",handler:function(){l.filter="",l.getTransactionHistory()}},{text:"Paid",handler:function(){l.filter="2",l.getTransactionHistory()}},{text:"Cancelled",handler:function(){l.filter="3",l.getTransactionHistory()}}]}).then(function(l){l.present()})},l.prototype.getTransactionHistory=function(l){var n=this;this.loadingService.present(),this.officePoolCarService.applyCouponService({type:"booking_list",user_id:this.userId,filter_by:this.filter,page:this.page,count:3}).subscribe(function(t){n.transactionList=0==t.result.length?t.result:n.transactionList.concat(t.result),n.loadingService.dismiss(),l&&l.target.complete()},function(l){n.loadingService.dismiss(),n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.loadData=function(l){this.page++,this.getTransactionHistory(l),this.page===this.maximumPages&&(l.target.disabled=!0)},l.prototype.openBooking=function(l){this.router.navigateByUrl("myaccount/booking-history-details/"+l)},l}(),c=function(){return function(){}}(),b=t("pMnS"),p=t("oBZk"),h=t("fNgX"),f=t("Hf/j"),g=t("ZYjt"),m=t("jWFl"),d=t("OOyK"),y=t("ZYCi"),x=t("iw74"),k=t("jKJn"),v=t("xoVG"),q=t("cGva"),_=i.ob({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--background:#ffffff}.card-class[_ngcontent-%COMP%]{margin:5px 0 0!important}.inner_div_history[_ngcontent-%COMP%]{margin-top:60px!important}.div_elipse_class[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]],data:{}});function z(l){return i.Hb(0,[(l()(),i.qb(0,0,null,null,31,"ion-card",[["style","margin:0px 0px 5px 0;border-radius: 0px;"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.openBooking(l.context.$implicit.booking_id)&&i),i},p.Z,p.g)),i.pb(1,49152,null,0,a.o,[i.h,i.k,i.z],null,null),(l()(),i.qb(2,0,null,0,29,"ion-item",[["lines","none"]],null,null,null,p.rb,p.x)),i.pb(3,49152,null,0,a.J,[i.h,i.k,i.z],{lines:[0,"lines"]},null),(l()(),i.qb(4,0,null,0,3,"ion-avatar",[["slot","start"]],null,null,null,p.T,p.b)),i.pb(5,49152,null,0,a.h,[i.h,i.k,i.z],null,null),(l()(),i.qb(6,0,null,0,1,"ion-icon",[["name","bus"],["style","font-size: 48px;"]],null,null,null,p.kb,p.s)),i.pb(7,49152,null,0,a.E,[i.h,i.k,i.z],{name:[0,"name"]},null),(l()(),i.qb(8,0,null,0,23,"ion-label",[],null,null,null,p.sb,p.A)),i.pb(9,49152,null,0,a.P,[i.h,i.k,i.z],null,null),(l()(),i.qb(10,0,null,0,7,"div",[],null,null,null,null,null)),(l()(),i.qb(11,0,null,null,1,"h2",[["style","font-size: 15px;float: left;"]],null,null,null,null,null)),(l()(),i.Gb(12,null,["","\xa0,\xa0",""])),(l()(),i.qb(13,0,null,null,4,"h2",[["style","font-size: 15px;float: right;"]],null,null,null,null,null)),(l()(),i.qb(14,0,null,null,2,"fa-icon",[["class","ng-fa-icon"],["style","opacity: 0.6;font-size: 13px;\n                margin-right: 2px;"]],[[8,"innerHTML",1]],null,null,h.b,h.a)),i.pb(15,573440,null,0,f.a,[g.c,f.b],{iconProp:[0,"iconProp"]},null),i.Bb(16,2),(l()(),i.Gb(17,null,["",""])),(l()(),i.qb(18,0,null,0,1,"h3",[["style","clear: both;"]],null,null,null,null,null)),(l()(),i.Gb(19,null,[""," \xa0 ",""])),(l()(),i.qb(20,0,null,0,4,"div",[["class","div_elipse_class"],["style","margin-top: 10px;"]],null,null,null,null,null)),(l()(),i.qb(21,0,null,null,1,"ion-icon",[["color","success"],["name","locate"],["style","font-size: 16px;float: left;"]],null,null,null,p.kb,p.s)),i.pb(22,49152,null,0,a.E,[i.h,i.k,i.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),i.qb(23,0,null,null,1,"p",[["style","margin:0px;opacity: 0.7;"]],null,null,null,null,null)),(l()(),i.Gb(24,null,["\xa0",""])),(l()(),i.qb(25,0,null,0,1,"ion-icon",[["name","more"],["style","opacity: 0.5;"]],null,null,null,p.kb,p.s)),i.pb(26,49152,null,0,a.E,[i.h,i.k,i.z],{name:[0,"name"]},null),(l()(),i.qb(27,0,null,0,4,"div",[["class","div_elipse_class"]],null,null,null,null,null)),(l()(),i.qb(28,0,null,null,1,"ion-icon",[["color","danger"],["name","locate"],["style","font-size: 16px;float: left;"]],null,null,null,p.kb,p.s)),i.pb(29,49152,null,0,a.E,[i.h,i.k,i.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),i.qb(30,0,null,null,1,"p",[["style","margin:0px;opacity: 0.7;"]],null,null,null,null,null)),(l()(),i.Gb(31,null,["\xa0",""]))],function(l,n){l(n,3,0,"none"),l(n,7,0,"bus");var t=l(n,16,0,"fas","rupee-sign");l(n,15,0,t),l(n,22,0,"success","locate"),l(n,26,0,"more"),l(n,29,0,"danger","locate")},function(l,n){l(n,12,0,n.context.$implicit.booking_date,n.context.$implicit.booking_time),l(n,14,0,i.Ab(n,15).renderedIconHTML),l(n,17,0,n.context.$implicit.paid_amount),l(n,19,0,n.context.$implicit.car_name,n.context.$implicit.car_no),l(n,24,0,n.context.$implicit.stoppage_start),l(n,31,0,n.context.$implicit.stoppage_end)})}function S(l){return i.Hb(0,[(l()(),i.qb(0,0,null,null,1,"app-header",[],null,null,null,m.b,m.a)),i.pb(1,114688,null,0,d.a,[y.m,a.f,x.b,k.a,v.a,e.a,o.a,q.a],null,null),(l()(),i.qb(2,0,null,null,25,"ion-content",[],null,null,null,p.cb,p.k)),i.pb(3,49152,null,0,a.w,[i.h,i.k,i.z],null,null),(l()(),i.qb(4,0,null,0,11,"div",[["slot","fixed"]],null,null,null,null,null)),(l()(),i.qb(5,0,null,null,10,"ion-card",[["style","margin: 0px;border-radius: 0px;"]],null,null,null,p.Z,p.g)),i.pb(6,49152,null,0,a.o,[i.h,i.k,i.z],null,null),(l()(),i.qb(7,0,null,0,8,"ion-item",[["lines","none"]],null,null,null,p.rb,p.x)),i.pb(8,49152,null,0,a.J,[i.h,i.k,i.z],{lines:[0,"lines"]},null),(l()(),i.qb(9,0,null,0,1,"p",[["class","no_margin_p"],["slot","start"]],null,null,null,null,null)),(l()(),i.Gb(-1,null,["Recent Bookings"])),(l()(),i.qb(11,0,null,0,4,"ion-chip",[["color","tertiary"],["outline","true"],["slot","end"]],null,[[null,"click"]],function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.filterTransactions()&&i),i},p.ab,p.i)),i.pb(12,49152,null,0,a.u,[i.h,i.k,i.z],{color:[0,"color"],outline:[1,"outline"]},null),(l()(),i.Gb(-1,0,["Filter"])),(l()(),i.qb(14,0,null,0,1,"ion-icon",[["name","ios-options"]],null,null,null,p.kb,p.s)),i.pb(15,49152,null,0,a.E,[i.h,i.k,i.z],{name:[0,"name"]},null),(l()(),i.qb(16,0,null,0,11,"div",[["style","margin-top: 60px;"]],null,null,null,null,null)),(l()(),i.qb(17,0,null,null,6,"ion-virtual-scroll",[],null,null,null,p.Jb,p.R)),i.pb(18,835584,null,3,a.Eb,[i.z,i.s,i.k],{items:[0,"items"]},null),i.Eb(335544320,1,{itmTmp:0}),i.Eb(335544320,2,{hdrTmp:0}),i.Eb(335544320,3,{ftrTmp:0}),(l()(),i.hb(16777216,null,0,1,null,z)),i.pb(23,16384,[[1,4]],0,a.Vb,[i.L,i.P],null,null),(l()(),i.qb(24,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(l,n,t){var i=!0;return"ionInfinite"===n&&(i=!1!==l.component.loadData(t)&&i),i},p.nb,p.u)),i.pb(25,49152,null,0,a.G,[i.h,i.k,i.z],{threshold:[0,"threshold"]},null),(l()(),i.qb(26,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,p.mb,p.v)),i.pb(27,49152,null,0,a.H,[i.h,i.k,i.z],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],function(l,n){var t=n.component;l(n,1,0),l(n,8,0,"none"),l(n,12,0,"tertiary","true"),l(n,15,0,"ios-options"),l(n,18,0,t.transactionList),l(n,25,0,"100px"),l(n,27,0,"bubbles","Loading more data...")},null)}function T(l){return i.Hb(0,[(l()(),i.qb(0,0,null,null,1,"app-booking-history",[],null,null,null,S,_)),i.pb(1,114688,null,0,s,[x.b,u.a,o.a,e.a,a.a,r.a,y.m],null,null)],function(l,n){l(n,1,0)},null)}var H=i.mb("app-booking-history",s,T,{},{},[]),P=t("Ip0R"),w=t("gIcY"),C=t("qxEu");t.d(n,"BookingHistoryPageModuleNgFactory",function(){return G});var G=i.nb(c,[],function(l){return i.xb([i.yb(512,i.j,i.cb,[[8,[b.a,H]],[3,i.j],i.x]),i.yb(4608,P.l,P.k,[i.u,[2,P.t]]),i.yb(4608,w.t,w.t,[]),i.yb(4608,a.c,a.c,[i.z,i.g]),i.yb(4608,a.Jb,a.Jb,[a.c,i.j,i.q]),i.yb(4608,a.Ob,a.Ob,[a.c,i.j,i.q]),i.yb(1073742336,P.b,P.b,[]),i.yb(1073742336,w.r,w.r,[]),i.yb(1073742336,w.e,w.e,[]),i.yb(1073742336,a.Fb,a.Fb,[]),i.yb(1073742336,y.q,y.q,[[2,y.w],[2,y.m]]),i.yb(1073742336,f.f,f.f,[]),i.yb(1073742336,C.a,C.a,[]),i.yb(1073742336,c,c,[]),i.yb(1024,y.k,function(){return[[{path:"",component:s}]]},[])])})}}]);