(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{mYw3:function(l,n,e){"use strict";e.r(n);var o=e("CcnG"),t=e("S0jo"),u=e("ZgVV"),a=e("WTUP"),i=e("8jtY"),r=e("57ec"),s=e("Ht5U"),c=e("ZZ/e"),b=e("01F9"),p=e("gRf5"),d=e("iWj2"),h=e("Pn9U"),g=e("AytR"),f=e("jKJn"),m=function(){function l(l,n,e,o,t,u,a,i,r,s,c,b,p,d,h,g){this.modalService=l,this.storage=n,this.router=e,this.loginRegisterService=o,this.toasterService=t,this.loadingService=u,this.officePoolCarService=a,this.myaccount_event=i,this.actionSheetCtrl=r,this.camera=s,this.transfer=c,this.platform=b,this.filePath=p,this.file=d,this.alertService=h,this.my_account_event=g,this.name="",this.user_details={},this.device_details=[],this.address_details={},this.progress_bar=!0}return l.prototype.ngOnInit=function(){var l=this;this.myaccount_event.subscribe("profile_update",function(n){console.log("data",n),l.getData("personal"==n.which?"myaccount-personal":"myaccount-address",n.user_id)}),this.storage.get("USER_INFO").then(function(n){n?(l.userId=n.id,l.name=n.name,l.contact=n.mobile,l.device_details=n.user_device,l.profile_img=n.photo,l.getData("myaccount-address",n.id),l.getData("myaccount-personal",n.id),l.visible_myaccount_details_div=!0):l.visible_myaccount_details_div=!1})},l.prototype.openModal=function(l){this.modalService.openModal(i.a,{from_which_page:l,userId:this.userId},"stoppage_modal_css")},l.prototype.openModal1=function(l){console.log("which",l),this.modalService.openModal(i.a,{from_which_page:l,userId:this.userId},"stoppage_modal_css")},l.prototype.changePassword=function(l){var n=this;void 0===l&&(l=!1),this.loadingService.present(),this.loginRegisterService.loginService({type:"log_by_otp",contact:this.contact}).subscribe(function(l){n.loadingService.dismiss(),n.router.navigateByUrl("/forgot-password")},function(l){n.loadingService.dismiss(),n.toasterService.showToast(l.error.msg,2e3)})},l.prototype.getData=function(l,n){var e=this;"myaccount-personal"==l?(this.progress_bar=!0,this.officePoolCarService.personalService({user_id:n}).subscribe(function(l){e.user_details=l.result,e.progress_bar=!1},function(l){e.progress_bar=!1,e.toasterService.showToast(l.error.msg,2e3)})):this.officePoolCarService.addressService({user_id:n}).subscribe(function(l){e.address_details=l.result,e.progress_bar=!1},function(l){e.progress_bar=!1,e.toasterService.showToast(l.error.msg,2e3)})},l.prototype.presentActionSheet=function(){var l=this;this.actionSheetCtrl.create({header:"Select Image Source",buttons:[{text:"Load from Library",handler:function(){l.takePicture(l.camera.PictureSourceType.PHOTOLIBRARY)}},{text:"Use Camera",handler:function(){l.takePicture(l.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]}).then(function(l){l.present()})},l.prototype.takePicture=function(l){var n=this;this.camera.getPicture({quality:60,sourceType:l,saveToPhotoAlbum:!1,correctOrientation:!0}).then(function(e){if(n.platform.is("android")&&l===n.camera.PictureSourceType.PHOTOLIBRARY)n.filePath.resolveNativePath(e).then(function(l){var o=l.substr(0,l.lastIndexOf("/")+1),t=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("?"));n.copyFileToLocalDir(o,t,n.createFileName())});else{var o=e.substr(e.lastIndexOf("/")+1),t=e.substr(0,e.lastIndexOf("/")+1);n.copyFileToLocalDir(t,o,n.createFileName())}})},l.prototype.copyFileToLocalDir=function(l,n,e){var o=this;this.file.copyFile(l,n,cordova.file.dataDirectory,e).then(function(l){o.lastImage=e,o.uploadImage()},function(l){o.toasterService.showToast("Error while storing file.")})},l.prototype.createFileName=function(){return(new Date).getTime()+".png"},l.prototype.uploadImage=function(){var l=this,n=this.pathForImage(this.lastImage),e=this.lastImage;console.log("filename",e);var o=new Date;this.currentDate=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();var t={fileKey:"profile_pic",fileName:e,chunkedMode:!1,params:{fileName:e,upload_date:this.currentDate,user_id:this.userId,type:"update_photo"}},u=this.transfer.create();this.loadingService.present(),u.upload(n,g.a.apiEndpoint+"usr/",t).then(function(n){l.loadingService.dismiss(),l.toasterService.showToast("Image succesful uploaded.",3e3);var e=JSON.parse(n.response);l.profile_img=e.result,l.storage.get("USER_INFO").then(function(n){var o=n;o.photo=e.result,l.storage.set("USER_INFO",o),l.my_account_event.publish("update_profile_image","1")})},function(n){l.loadingService.dismiss(),l.toasterService.showToast("Error while uploading file.",3e3)})},l.prototype.pathForImage=function(l){return null===l?"":cordova.file.dataDirectory+l},l.prototype.logoutUser=function(){this.alertService.presentAlertConfirm("Are you sure you want to end this session?","logout")},l}(),y=function(){return function(){}}(),_=e("pMnS"),v=e("bAmN"),k=e("oBZk"),q=e("jWFl"),P=e("OOyK"),I=e("ZYCi"),S=e("iw74"),x=e("xoVG"),z=e("cGva"),M=e("Ip0R"),w=e("fNgX"),C=e("Hf/j"),O=e("ZYjt"),T=o.ob({encapsulation:0,styles:[["._c_top_image[_ngcontent-%COMP%]{--size:90px;--border-radius:50%!important;margin-left:auto;margin-right:auto;border:2px solid #fff;position:relative}.top_div[_ngcontent-%COMP%]{background:linear-gradient(45deg,#0a5999 0,#02a1eb 100%);color:#fff;padding:25px;text-align:center}.f-icons[_ngcontent-%COMP%]{margin-top:70px;margin-left:15px}.sch-pool-car[_ngcontent-%COMP%]{margin:70px 15px 35px;background:#fff}.select-tour-sector[_ngcontent-%COMP%]{padding:15px 0}.card_class[_ngcontent-%COMP%]{margin-left:0;margin-right:0;background-color:#fff}.toolbar-class-top[_ngcontent-%COMP%]{--background:transparent;--color:white}.toolbar-class[_ngcontent-%COMP%]{--background:transparent}ion-title[_ngcontent-%COMP%]{font-size:15px;font-weight:400}ion-toolbar[_ngcontent-%COMP%]{--min-height:30px}"],v.a],data:{}});function D(l){return o.Kb(0,[(l()(),o.qb(0,0,null,null,1,"ion-progress-bar",[["class","progress_bar"],["type","indeterminate"]],null,null,null,k.yb,k.F)),o.pb(1,49152,null,0,c.ab,[o.h,o.k,o.z],{type:[0,"type"]},null)],function(l,n){l(n,1,0,"indeterminate")},null)}function R(l){return o.Kb(0,[(l()(),o.qb(0,0,null,null,1,"app-header",[],null,null,null,q.b,q.a)),o.pb(1,114688,null,0,P.a,[I.m,c.f,S.b,f.a,x.a,s.a,u.a,z.a],null,null),(l()(),o.hb(16777216,null,null,1,null,D)),o.pb(3,16384,null,0,M.j,[o.P,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.qb(4,0,null,null,102,"ion-content",[],null,null,null,k.db,k.k)),o.pb(5,49152,null,0,c.w,[o.h,o.k,o.z],null,null),(l()(),o.qb(6,0,null,0,16,"div",[["class","top_div"]],null,null,null,null,null)),(l()(),o.qb(7,0,null,null,4,"ion-thumbnail",[["class","_c_top_image"]],null,null,null,k.Hb,k.O)),o.pb(8,49152,null,0,c.Ab,[o.h,o.k,o.z],null,null),(l()(),o.qb(9,0,null,0,0,"img",[["alt",""],["style","opacity: 0.8;"]],[[8,"src",4]],[[null,"srcChange"]],function(l,n,e){var o=!0;return"srcChange"===n&&(o=!1!==(l.component.profile_img=e)&&o),o},null,null)),(l()(),o.qb(10,0,null,0,1,"ion-icon",[["ios","ios-camera"],["md","md-camera"],["style","    position: absolute;\n      top: 55px;\n      right: 28px;\n      font-size: 25px;\n  "]],null,[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.presentActionSheet()&&o),o},k.lb,k.s)),o.pb(11,49152,null,0,c.E,[o.h,o.k,o.z],{ios:[0,"ios"],md:[1,"md"]},null),(l()(),o.qb(12,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),o.Ib(13,null,["",""])),(l()(),o.qb(14,0,null,null,1,"p",[["style","font-size: 13px;margin: 15px 0 4px 0;"]],null,null,null,null,null)),(l()(),o.Ib(15,null,["",""])),(l()(),o.qb(16,0,null,null,6,"ion-toolbar",[["class","toolbar-class-top"]],null,null,null,k.Kb,k.R)),o.pb(17,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(18,0,null,0,1,"p",[["style","font-size: 13px;margin: 0 0 0 0;"]],null,null,null,null,null)),(l()(),o.Ib(19,null,["",""])),(l()(),o.qb(20,0,null,0,2,"fa-icon",[["class","fa-icon-input ng-fa-icon"],["slot","end"]],[[8,"innerHTML",1]],[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.openModal("myaccount-personal")&&o),o},w.b,w.a)),o.pb(21,573440,null,0,C.a,[O.c,C.b],{iconProp:[0,"iconProp"]},null),o.Bb(22,2),(l()(),o.qb(23,0,null,0,83,"div",[["class","inner_div"]],null,null,null,null,null)),(l()(),o.qb(24,0,null,null,45,"ion-card",[["class","card_class"]],null,null,null,k.ab,k.g)),o.pb(25,49152,null,0,c.o,[o.h,o.k,o.z],null,null),(l()(),o.qb(26,0,null,0,43,"ion-grid",[],null,null,null,k.jb,k.q)),o.pb(27,49152,null,0,c.C,[o.h,o.k,o.z],null,null),(l()(),o.qb(28,0,null,0,41,"ion-row",[],null,null,null,k.Bb,k.I)),o.pb(29,49152,null,0,c.kb,[o.h,o.k,o.z],null,null),(l()(),o.qb(30,0,null,0,39,"ion-col",[],null,null,null,k.cb,k.j)),o.pb(31,49152,null,0,c.v,[o.h,o.k,o.z],null,null),(l()(),o.qb(32,0,null,0,12,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(33,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(34,0,null,0,6,"ion-text",[["class","ion-text-center"]],null,null,null,k.Fb,k.M)),o.pb(35,49152,null,0,c.yb,[o.h,o.k,o.z],null,null),(l()(),o.qb(36,0,null,0,4,"p",[],null,null,null,null,null)),(l()(),o.qb(37,0,null,null,2,"fa-icon",[["class","ng-fa-icon"],["style","font-size: 15px;opacity: 0.4;margin-bottom: 15px;"]],[[8,"innerHTML",1]],null,null,w.b,w.a)),o.pb(38,573440,null,0,C.a,[O.c,C.b],{iconProp:[0,"iconProp"]},null),o.Bb(39,2),(l()(),o.Ib(-1,null,["\xa0ADDRESS"])),(l()(),o.qb(41,0,null,0,0,"hr",[["class","hr-border"]],null,null,null,null,null)),(l()(),o.qb(42,0,null,0,2,"fa-icon",[["class","ng-fa-icon"],["slot","end"],["style","font-size: 17px;opacity: 0.4;margin-bottom: 15px;"]],[[8,"innerHTML",1]],[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.openModal1("myaccount-address")&&o),o},w.b,w.a)),o.pb(43,573440,null,0,C.a,[O.c,C.b],{iconProp:[0,"iconProp"]},null),o.Bb(44,2),(l()(),o.qb(45,0,null,0,4,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(46,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(47,0,null,0,2,"ion-title",[],null,null,null,k.Ib,k.P)),o.pb(48,49152,null,0,c.Bb,[o.h,o.k,o.z],null,null),(l()(),o.Ib(49,0,["Address : "," "])),(l()(),o.qb(50,0,null,0,4,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(51,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(52,0,null,0,2,"ion-title",[],null,null,null,k.Ib,k.P)),o.pb(53,49152,null,0,c.Bb,[o.h,o.k,o.z],null,null),(l()(),o.Ib(54,0,["Country : ",""])),(l()(),o.qb(55,0,null,0,4,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(56,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(57,0,null,0,2,"ion-title",[],null,null,null,k.Ib,k.P)),o.pb(58,49152,null,0,c.Bb,[o.h,o.k,o.z],null,null),(l()(),o.Ib(59,0,["City : ",""])),(l()(),o.qb(60,0,null,0,4,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(61,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(62,0,null,0,2,"ion-title",[],null,null,null,k.Ib,k.P)),o.pb(63,49152,null,0,c.Bb,[o.h,o.k,o.z],null,null),(l()(),o.Ib(64,0,["State : ",""])),(l()(),o.qb(65,0,null,0,4,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(66,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(67,0,null,0,2,"ion-title",[],null,null,null,k.Ib,k.P)),o.pb(68,49152,null,0,c.Bb,[o.h,o.k,o.z],null,null),(l()(),o.Ib(69,0,["Pincocde : ",""])),(l()(),o.qb(70,0,null,null,19,"ion-card",[["class","card_class"]],null,null,null,k.ab,k.g)),o.pb(71,49152,null,0,c.o,[o.h,o.k,o.z],null,null),(l()(),o.qb(72,0,null,0,17,"ion-grid",[],null,null,null,k.jb,k.q)),o.pb(73,49152,null,0,c.C,[o.h,o.k,o.z],null,null),(l()(),o.qb(74,0,null,0,15,"ion-row",[],null,null,null,k.Bb,k.I)),o.pb(75,49152,null,0,c.kb,[o.h,o.k,o.z],null,null),(l()(),o.qb(76,0,null,0,13,"ion-col",[],null,null,null,k.cb,k.j)),o.pb(77,49152,null,0,c.v,[o.h,o.k,o.z],null,null),(l()(),o.qb(78,0,null,0,11,"ion-toolbar",[["class","toolbar-class"]],null,null,null,k.Kb,k.R)),o.pb(79,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(80,0,null,0,6,"ion-text",[["class","ion-text-center"]],null,null,null,k.Fb,k.M)),o.pb(81,49152,null,0,c.yb,[o.h,o.k,o.z],null,null),(l()(),o.qb(82,0,null,0,4,"p",[["style","margin: 0 0 0 0;"]],null,null,null,null,null)),(l()(),o.qb(83,0,null,null,2,"fa-icon",[["class","ng-fa-icon"],["style","font-size: 15px;opacity: 0.4;"]],[[8,"innerHTML",1]],null,null,w.b,w.a)),o.pb(84,573440,null,0,C.a,[O.c,C.b],{iconProp:[0,"iconProp"]},null),o.Bb(85,2),(l()(),o.Ib(-1,null,["\xa0CHANGE PASSWORD"])),(l()(),o.qb(87,0,null,0,2,"fa-icon",[["class","ng-fa-icon"],["slot","end"],["style","font-size: 17px;opacity: 0.4;"]],[[8,"innerHTML",1]],[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.changePassword()&&o),o},w.b,w.a)),o.pb(88,573440,null,0,C.a,[O.c,C.b],{iconProp:[0,"iconProp"]},null),o.Bb(89,2),(l()(),o.qb(90,0,null,null,16,"ion-card",[["class","card_class"]],null,null,null,k.ab,k.g)),o.pb(91,49152,null,0,c.o,[o.h,o.k,o.z],null,null),(l()(),o.qb(92,0,null,0,14,"ion-grid",[],null,null,null,k.jb,k.q)),o.pb(93,49152,null,0,c.C,[o.h,o.k,o.z],null,null),(l()(),o.qb(94,0,null,0,12,"ion-row",[],null,null,null,k.Bb,k.I)),o.pb(95,49152,null,0,c.kb,[o.h,o.k,o.z],null,null),(l()(),o.qb(96,0,null,0,10,"ion-col",[],null,null,null,k.cb,k.j)),o.pb(97,49152,null,0,c.v,[o.h,o.k,o.z],null,null),(l()(),o.qb(98,0,null,0,8,"ion-toolbar",[["class","toolbar-class"]],null,[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.logoutUser()&&o),o},k.Kb,k.R)),o.pb(99,49152,null,0,c.Db,[o.h,o.k,o.z],null,null),(l()(),o.qb(100,0,null,0,6,"ion-text",[["class","ion-text-center"]],null,null,null,k.Fb,k.M)),o.pb(101,49152,null,0,c.yb,[o.h,o.k,o.z],null,null),(l()(),o.qb(102,0,null,0,4,"p",[["style","margin: 0 0 0 0;color:red;"]],null,null,null,null,null)),(l()(),o.qb(103,0,null,null,2,"fa-icon",[["class","ng-fa-icon"],["style","font-size: 15px;opacity: 0.4;"]],[[8,"innerHTML",1]],null,null,w.b,w.a)),o.pb(104,573440,null,0,C.a,[O.c,C.b],{iconProp:[0,"iconProp"]},null),o.Bb(105,2),(l()(),o.Ib(-1,null,["\xa0LOGOUT"]))],function(l,n){var e=n.component;l(n,1,0),l(n,3,0,e.progress_bar),l(n,11,0,"ios-camera","md-camera");var o=l(n,22,0,"fas","edit");l(n,21,0,o);var t=l(n,39,0,"fas","address-card");l(n,38,0,t);var u=l(n,44,0,"fas","edit");l(n,43,0,u);var a=l(n,85,0,"fas","key");l(n,84,0,a);var i=l(n,89,0,"fas","edit");l(n,88,0,i);var r=l(n,105,0,"fas","sign-out-alt");l(n,104,0,r)},function(l,n){var e=n.component;l(n,9,0,e.profile_img),l(n,13,0,e.user_details.name),l(n,15,0,e.user_details.mobile),l(n,19,0,e.user_details.email),l(n,20,0,o.Ab(n,21).renderedIconHTML),l(n,37,0,o.Ab(n,38).renderedIconHTML),l(n,42,0,o.Ab(n,43).renderedIconHTML),l(n,49,0,e.address_details.address),l(n,54,0,e.address_details.country_name),l(n,59,0,e.address_details.city_name),l(n,64,0,e.address_details.state_name),l(n,69,0,e.address_details.pin_code),l(n,83,0,o.Ab(n,84).renderedIconHTML),l(n,87,0,o.Ab(n,88).renderedIconHTML),l(n,103,0,o.Ab(n,104).renderedIconHTML)})}function A(l){return o.Kb(0,[(l()(),o.qb(0,0,null,null,1,"app-myaccount",[],null,null,null,R,T)),o.pb(1,114688,null,0,m,[t.a,S.b,I.m,r.a,u.a,a.a,s.a,c.f,c.a,h.a,p.a,c.Nb,d.a,b.a,f.a,c.f],null,null)],function(l,n){l(n,1,0)},null)}var F=o.mb("app-myaccount",m,A,{},{},[]),L=e("gIcY"),B=e("qxEu"),H=function(){return function(){}}();e.d(n,"MyaccountPageModuleNgFactory",function(){return j});var j=o.nb(y,[],function(l){return o.xb([o.yb(512,o.j,o.cb,[[8,[_.a,F]],[3,o.j],o.x]),o.yb(4608,M.l,M.k,[o.u,[2,M.u]]),o.yb(4608,L.t,L.t,[]),o.yb(4608,c.c,c.c,[o.z,o.g]),o.yb(4608,c.Jb,c.Jb,[c.c,o.j,o.q]),o.yb(4608,c.Ob,c.Ob,[c.c,o.j,o.q]),o.yb(4608,L.b,L.b,[]),o.yb(1073742336,M.b,M.b,[]),o.yb(1073742336,L.r,L.r,[]),o.yb(1073742336,L.e,L.e,[]),o.yb(1073742336,c.Fb,c.Fb,[]),o.yb(1073742336,L.o,L.o,[]),o.yb(1073742336,I.q,I.q,[[2,I.w],[2,I.m]]),o.yb(1073742336,C.f,C.f,[]),o.yb(1073742336,B.a,B.a,[]),o.yb(1073742336,H,H,[]),o.yb(1073742336,y,y,[]),o.yb(1024,I.k,function(){return[[{path:"location-tracking/:car_id/:driver_id",loadChildren:"./location-tracking/location-tracking.module#LocationTrackingPageModule"},{path:"wallet",loadChildren:"./wallet/wallet.module#WalletPageModule"},{path:"booking-history",loadChildren:"./booking-history/booking-history.module#BookingHistoryPageModule"},{path:"booking-history-details/:id",loadChildren:"./booking-history-details/booking-history-details.module#BookingHistoryDetailsPageModule"},{path:"today-rides",loadChildren:"./today-rides/today-rides.module#TodayRidesPageModule"},{path:"myaccount-common-page/:which-page",loadChildren:"./myaccount-common-page/myaccount-common-page.module#MyaccountCommonPagePageModule"}],[{path:"",component:m}]]},[])])})}}]);